<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>A New Chapter: SD-Routing&#39;s Revolution in Network Management | NetWithAlex</title>
<meta name="keywords" content="">
<meta name="description" content="Explore how SD-Routing can simply and effectively help you manage and monitor your WAN network.">
<meta name="author" content="alex">
<link rel="canonical" href="http://localhost:1313/a-new-chapter-sd-routings-revolution-in-network-management/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/a-new-chapter-sd-routings-revolution-in-network-management/">
<link rel="alternate" hreflang="es" href="http://localhost:1313/sd-routing-revoluciona-la-gestion-de-red/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>















    
        <link rel="preconnect" href="https://plausible.io">
    
        <!-- Dev mode : We do not load plausible script to avoid bloating your stats -->

<!-- If you are using Content-Security-Policy, do not forget to add this code to your CSP : 
  script-src 'unsafe-inline' https://plausible.io
  connect-src 'unsafe-inline' https://plausible.io
  or just add the partial 'plausible_csp.html' to those 2 csp directives in your 'index.headers' file
-->



    
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script>
         
         
         
    </script>

    
<meta property="og:url" content="http://localhost:1313/a-new-chapter-sd-routings-revolution-in-network-management/">
  <meta property="og:site_name" content="NetWithAlex">
  <meta property="og:title" content="A New Chapter: SD-Routing&#39;s Revolution in Network Management">
  <meta property="og:description" content="Explore how SD-Routing can simply and effectively help you manage and monitor your WAN network.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-02-24T12:06:47+00:00">
    <meta property="article:modified_time" content="2024-02-24T12:06:47+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A New Chapter: SD-Routing&#39;s Revolution in Network Management">
<meta name="twitter:description" content="Explore how SD-Routing can simply and effectively help you manage and monitor your WAN network.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "A New Chapter: SD-Routing's Revolution in Network Management",
      "item": "http://localhost:1313/a-new-chapter-sd-routings-revolution-in-network-management/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "A New Chapter: SD-Routing's Revolution in Network Management",
  "name": "A New Chapter: SD-Routing\u0027s Revolution in Network Management",
  "description": "Explore how SD-Routing can simply and effectively help you manage and monitor your WAN network.",
  "keywords": [
    
  ],
  "articleBody": "Introduction Software Defined Networks (SDNs) came with the promise of simplifying network management, enabling network teams to automate and adopt a programmatic approach. Cisco created solutions like - Catalyst Center, ACI, Meraki and Viptela SD-WAN. The latter introduced new controllers that changed the rules that dictate how the WAN network operates.\nOrganization that were not ready to take the full SD-WAN leap, while still desiring the benefits of SDN principles had limited options, such as integrating with third-party systems or relying on Catalyst Center. While these solutions addressed some challenges, a significant gap remained unfilled until‚Ä¶ SD-Routing!\nWhat is SD-Routing? Simply put, SD-Routing is the middle ground between SDNs and SD-WAN. With SD-Routing, organizations could gradually adopt software-defined networking in their existing infrastructure. The idea behind it is to manage your non-sdwan (a.k.a ‚Äútraditional‚Äù) network from a Single Pane of Glass called SD-WAN Manager (formerly vManage). It is possible to manage SD-WAN devices at the same time, of course!\nAs opposed to SD-WAN, there is no need to connect to the SD-WAN controller (formerly vSmart), thus the existing routing protocols remain in place and you get an additional security layer with the SD-WAN Validator (formely vBond) to allow the right devices to connect.\nBenefits Some of the benefits of SD-Routing include\nOnboarding - New devices could be easily and quickly onboarded using SD-WAN Manager. Configuration - Manage the configuration of your devices from a single place through a reusable method, called Configuration Groups. that will allow to scale quicker. Streamlined workflows for security policies and cloud connectivity. Monitoring - Monitor your devices, sites and applications. Get alerts and events, take advantage of SD-WAN‚Äôs Manager notification capabilities. Software management - Distribute, install and activate software images simply and quickly. Troubleshooting - Run different operations from vManage like SSH sessions, speed tests, traceroutes and more. Transition to SD-WAN- If you have plans to deploy SD-WAN, SD-Routing will be a great place to start getting familiar with the SD-WAN Manager and simplify the migration. SD-WAN Manager Overview Let me give you a quick tour of the SD-WAN Manager and a brief view of some of the features. If you are familiar with it, you are probably still going to be surprised by the new look on 20.13. Check it out!\nNetwork Overview When we first log-in, the network overview is presented so we can quickly determine how many devices and controllers are actively connected, application information, and more.\nHey, where did the SD-WAN Controller go?!\nSD-WAN Manager 20.13\nThe Magnetic look and feel will remind you of other Cisco Security Products or Meraki Dashboard, this is great to keep the experience consistent. Notice top right there is a SD-Routing toggle button, this is very useful to show the information concerning SD-Routing and the reason why we don‚Äôt see the SD-WAN Controller.\nMonitor Devices If we want to see more detailed device information we can visit the Devices tab. SD-WAN Manager is constantly refreshing this information so we have an accurate view. Notice devices are listed as SD-Routing.\nBR20 is not having a good health due to high memory utilization, could we find out when this started? Let‚Äôs double click on it.\nIt started going beyond 75% at around 12:30, this was because I activated performance monitor to get app performance information.\nLet‚Äôs focus on the left menu, look to all the available monitoring options including applications, security features and real time information. The troubleshooting section is the place to go to use the tools I listed earlier.\nConfiguration In 20.13/17.13 support for SD-Routing Configuration Groups was added. With them, you can build Feature Profiles based on parcels, which are single elements that together conform the entire router configuration. In 20.13 the following parcels are available.\nWe have the CLI configuration Profile to push whatever is not available through parcels. We can define variables to make our Profile reusable across multiple devices. You can also use an entire CLI Profile instead of using parcels.\nBy the way, if you have a mix of SD-WAN and SD-Routing devices, you will see both Configuration Groups listed there. SD-WAN has (for now) a richer set of parcels, this should be gradually shifted to support more non-CLI based configuration for SD-Routing.\nWorkflows The workflows library will help us easily achieve certain actions like onboard devices, security configuration, software upgrades and more.\nInstead of clicking around on multiple pages, we can navigate step by step as we are presented with everything we need. I personally like how workflows simplify things for us.\nCloud Connectivity Most likely your organization will use some kind of cloud connectivity, either to access apps or run workloads. SD-Routing has got you covered.\nYou can automate the connection to the cloud provider so your network will be extended to access those resources.\nThere are multiple options here. Some of this is also provided for SD-WAN so I recommend checking the config guides to see what is available for SD-Routing.\nConclusion The purpose of this post is to show what is possible with SD-Routing and the gap that it‚Äôs aiming to close. Adopting this technology could positively impact your operational workflows, enhance network agility, and optimize resource utilization. If your organization has not yet adopted any form of SDN, I invite you to think about your day-to-day processes and identify the main challenges, things that could be done more efficiently and how SD-Routing could help you with them.\nLet me know what you think and I will see you on the next one!\n",
  "wordCount" : "917",
  "inLanguage": "en",
  "datePublished": "2024-02-24T12:06:47Z",
  "dateModified": "2024-02-24T12:06:47Z",
  "author":{
    "@type": "Person",
    "name": "alex"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/a-new-chapter-sd-routings-revolution-in-network-management/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "NetWithAlex",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/assets/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="NetWithAlex (Alt + H)">NetWithAlex</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/es/" title="Espa√±ol"
                            aria-label="Espa√±ol">Es</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/category/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="About me.">
                    <span>About me.</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="üîç">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      A New Chapter: SD-Routing&#39;s Revolution in Network Management
    </h1>
    <div class="post-meta"><span title='2024-02-24 12:06:47 +0000 WET'>February 24, 2024</span>&nbsp;¬∑&nbsp;5 min&nbsp;¬∑&nbsp;alex&nbsp;|&nbsp;Translations:
<ul class="i18n_list">
    <li>
        <a href="http://localhost:1313/sd-routing-revoluciona-la-gestion-de-red/">Es</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#what-is-sd-routing" aria-label="What is SD-Routing?">What is SD-Routing?</a></li>
                <li>
                    <a href="#benefits" aria-label="Benefits">Benefits</a></li>
                <li>
                    <a href="#sd-wan-manager-overview" aria-label="SD-WAN Manager Overview">SD-WAN Manager Overview</a><ul>
                        
                <li>
                    <a href="#network-overview" aria-label="Network Overview">Network Overview</a></li>
                <li>
                    <a href="#monitor-devices" aria-label="Monitor Devices">Monitor Devices</a></li>
                <li>
                    <a href="#configuration" aria-label="Configuration">Configuration</a></li>
                <li>
                    <a href="#workflows" aria-label="Workflows">Workflows</a></li>
                <li>
                    <a href="#cloud-connectivity" aria-label="Cloud Connectivity">Cloud Connectivity</a></li></ul>
                </li>
                <li>
                    <a href="#conclusion" aria-label="Conclusion">Conclusion</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h3 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h3>
<p>Software Defined Networks (SDNs) came with the promise of simplifying network management, enabling network teams to automate and adopt a programmatic approach. Cisco created solutions like - Catalyst Center, ACI, Meraki and <em>Viptela SD-WAN</em>. The latter introduced new controllers that changed the rules that dictate how the WAN network operates.</p>
<p>Organization that were not ready to take the full SD-WAN leap, while still desiring the benefits of SDN principles had limited options, such as integrating with third-party systems or relying on Catalyst Center. While these solutions addressed some challenges, a significant gap remained unfilled until&hellip; SD-Routing!</p>
<h3 id="what-is-sd-routing">What is SD-Routing?<a hidden class="anchor" aria-hidden="true" href="#what-is-sd-routing">#</a></h3>
<p>Simply put, SD-Routing is the middle ground between SDNs and SD-WAN. With SD-Routing, organizations could gradually adopt software-defined networking in their existing infrastructure. The idea behind it is to manage your non-sdwan (a.k.a &ldquo;traditional&rdquo;) network from a Single Pane of Glass called <em>SD-WAN Manager</em> (formerly vManage). It is possible to manage SD-WAN devices at the same time, of course!</p>
<p>As opposed to SD-WAN, there is no need to connect to the <em>SD-WAN controller</em> (formerly vSmart), thus the existing routing protocols remain in place and you get an additional security layer with the <em>SD-WAN Validator</em> (formely vBond) to allow the right devices to connect.</p>
<h3 id="benefits">Benefits<a hidden class="anchor" aria-hidden="true" href="#benefits">#</a></h3>
<p>Some of the benefits of SD-Routing include</p>
<ul>
<li><strong>Onboarding</strong> - New devices could be easily and quickly onboarded using SD-WAN Manager.</li>
<li><strong>Configuration</strong> - Manage the configuration of your devices from a single place through a reusable method, called <em>Configuration Groups</em>. that will allow to scale quicker. Streamlined workflows for security policies and cloud connectivity.</li>
<li><strong>Monitoring</strong> - Monitor your devices, sites and applications. Get alerts and events, take advantage of SD-WAN&rsquo;s Manager notification capabilities.</li>
<li><strong>Software management</strong> - Distribute, install and activate software images simply and quickly.</li>
<li><strong>Troubleshooting</strong> - Run different operations from vManage like SSH sessions, speed tests, traceroutes and more.</li>
<li><strong>Transition to</strong> <strong>SD-WAN</strong>- If you have plans to deploy SD-WAN, SD-Routing will be a great place to start getting familiar with the SD-WAN Manager and simplify the migration.</li>
</ul>
<h3 id="sd-wan-manager-overview">SD-WAN Manager Overview<a hidden class="anchor" aria-hidden="true" href="#sd-wan-manager-overview">#</a></h3>
<p>Let me give you a quick tour of the SD-WAN Manager and a brief view of some of the features. If you are familiar with it, you are probably still going to be surprised by the new look on 20.13. Check it out!</p>
<h4 id="network-overview">Network Overview<a hidden class="anchor" aria-hidden="true" href="#network-overview">#</a></h4>
<p>When we first log-in, the network overview is presented so we can quickly determine how many devices and controllers are actively connected, application information, and more.</p>
<p>Hey, where did the SD-WAN Controller go?!</p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-20.png">SD-WAN Manager 20.13</p>
<p>The Magnetic look and feel will remind you of other Cisco Security Products or Meraki Dashboard, this is great to keep the experience consistent. Notice top right there is a SD-Routing toggle button, this is very useful to show the information concerning SD-Routing and the reason why we don&rsquo;t see the SD-WAN Controller.</p>
<h4 id="monitor-devices">Monitor Devices<a hidden class="anchor" aria-hidden="true" href="#monitor-devices">#</a></h4>
<p>If we want to see more detailed device information we can visit the <em>Devices</em> tab. SD-WAN Manager is constantly refreshing this information so we have an accurate view. Notice devices are listed as <em><strong>SD-Routing</strong></em>.</p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-12-1.png"></p>
<p>BR20 is not having a good health due to high memory utilization, could we find out when this started? Let&rsquo;s double click on it.</p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-14.png"></p>
<p>It started going beyond 75% at around 12:30, this was because I activated performance monitor to get app performance information.</p>
<p>Let&rsquo;s focus on the left menu, look to all the available <strong>monitoring</strong> options including <strong>applications, security features</strong> and <strong>real time information</strong>. The <strong>troubleshooting</strong> section is the place to go to use the tools I <a href="/a-new-chapter-sd-routings-revolution-in-network-management/#tshoot">listed earlier</a>.</p>
<h4 id="configuration">Configuration<a hidden class="anchor" aria-hidden="true" href="#configuration">#</a></h4>
<p>In 20.13/17.13 support for <em>SD-Routing Configuration Groups</em> was added. With them, you can build Feature Profiles based on parcels, which are single elements that together conform the entire router configuration. In 20.13 the following parcels are available.</p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-31.png"><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-30.png"></p>
<p>We have the CLI configuration Profile to push whatever is not available through parcels. We can define variables to make our Profile reusable across multiple devices. You can also use an entire CLI Profile instead of using parcels.</p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-33.png"><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-22.png"></p>
<p>By the way, if you have a mix of SD-WAN and SD-Routing devices, you will see both Configuration Groups listed there. SD-WAN has (for now) a richer set of parcels, this should be gradually shifted to support more non-CLI based configuration for SD-Routing.</p>
<h4 id="workflows">Workflows<a hidden class="anchor" aria-hidden="true" href="#workflows">#</a></h4>
<p>The workflows library will help us easily achieve certain actions like <strong>onboard devices, security configuration, software upgrades</strong> and more.</p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-23.png"></p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-24.png"><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-25.png"></p>
<p>Instead of clicking around on multiple pages, we can navigate step by step as we are presented with everything we need. I personally like how workflows simplify things for us.</p>
<h4 id="cloud-connectivity">Cloud Connectivity<a hidden class="anchor" aria-hidden="true" href="#cloud-connectivity">#</a></h4>
<p>Most likely your organization will use some kind of cloud connectivity, either to access apps or run workloads. SD-Routing has got you covered.</p>
<p>You can automate the connection to the cloud provider so your network will be extended to access those resources.</p>
<p><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-6.png"><img loading="lazy" src="/wp-content/uploads/2024/02/SDR-26.png"></p>
<p>There are multiple options here. Some of this is also provided for SD-WAN so I recommend checking the <a href="https://www.cisco.com/c/en/us/td/docs/routers/cloud_edge/c8300/software_config/cat8300swcfg-xe-17-book/m-cloud-onramp-for-sd-routing.html">config guides</a> to see what is available for SD-Routing.</p>
<h3 id="conclusion">Conclusion<a hidden class="anchor" aria-hidden="true" href="#conclusion">#</a></h3>
<p>The purpose of this post is to show what is possible with SD-Routing and the gap that it&rsquo;s aiming to close. Adopting this technology could positively impact your operational workflows, enhance network agility, and optimize resource utilization. If your organization has not yet adopted any form of SDN, I invite you to think about your day-to-day processes and identify the main challenges, things that could be done more efficiently and how SD-Routing could help you with them.</p>
<p>Let me know what you think and I will see you on the next one!</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="aruiz-p/netwithalex"
        issue-term="title"
        label="comments"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">NetWithAlex</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
