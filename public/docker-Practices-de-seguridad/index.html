<!DOCTYPE html>
<html lang="es" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Docker - Prácticas de seguridad | NetWithAlex</title>
<meta name="keywords" content="">
<meta name="description" content="Introducción
Docker ayuda con el embalaje, la distribución y la ejecución de aplicaciones. Sin embargo, debemos ser responsables para que podamos garantizar la seguridad del entorno Docker. Hay algunas mejores prácticas y estrategias que podemos seguir para lograr este objetivo.
Las mejores prácticas y estrategias de seguridad
Sin información confidencial en archivos
DockerFiles se utilizan para definir los pasos necesarios para construir imágenes de Docker. Es crucial evitar incluir información confidencial como credenciales, claves API u otros secretos directamente en Dockerfiles. Tenga en cuenta que estos archivos a menudo están controlados por versión y pueden ser accesibles para usuarios no autorizados, lo que resulta en un riesgo de seguridad significativo.">
<meta name="author" content="Alex">
<link rel="canonical" href="http://localhost:1313/docker-Practices-de-seguridad/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/docker-safety-practices/">
<link rel="alternate" hreflang="es" href="http://localhost:1313/docker-Practices-de-seguridad/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="http://localhost:1313/docker-Practices-de-seguridad/">
  <meta property="og:site_name" content="NetWithAlex">
  <meta property="og:title" content="Docker - Prácticas de seguridad">
  <meta property="og:description" content="Introducción Docker ayuda con el embalaje, la distribución y la ejecución de aplicaciones. Sin embargo, debemos ser responsables para que podamos garantizar la seguridad del entorno Docker. Hay algunas mejores prácticas y estrategias que podemos seguir para lograr este objetivo.
Las mejores prácticas y estrategias de seguridad Sin información confidencial en archivos DockerFiles se utilizan para definir los pasos necesarios para construir imágenes de Docker. Es crucial evitar incluir información confidencial como credenciales, claves API u otros secretos directamente en Dockerfiles. Tenga en cuenta que estos archivos a menudo están controlados por versión y pueden ser accesibles para usuarios no autorizados, lo que resulta en un riesgo de seguridad significativo.">
  <meta property="og:locale" content="es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-04-21T12:49:34+00:00">
    <meta property="article:modified_time" content="2024-04-21T12:49:34+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Docker - Prácticas de seguridad">
<meta name="twitter:description" content="Introducción
Docker ayuda con el embalaje, la distribución y la ejecución de aplicaciones. Sin embargo, debemos ser responsables para que podamos garantizar la seguridad del entorno Docker. Hay algunas mejores prácticas y estrategias que podemos seguir para lograr este objetivo.
Las mejores prácticas y estrategias de seguridad
Sin información confidencial en archivos
DockerFiles se utilizan para definir los pasos necesarios para construir imágenes de Docker. Es crucial evitar incluir información confidencial como credenciales, claves API u otros secretos directamente en Dockerfiles. Tenga en cuenta que estos archivos a menudo están controlados por versión y pueden ser accesibles para usuarios no autorizados, lo que resulta en un riesgo de seguridad significativo.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/es/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Docker - Prácticas de seguridad",
      "item": "http://localhost:1313/docker-Practices-de-seguridad/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Docker - Prácticas de seguridad",
  "name": "Docker - Prácticas de seguridad",
  "description": "Introducción Docker ayuda con el embalaje, la distribución y la ejecución de aplicaciones. Sin embargo, debemos ser responsables para que podamos garantizar la seguridad del entorno Docker. Hay algunas mejores prácticas y estrategias que podemos seguir para lograr este objetivo.\nLas mejores prácticas y estrategias de seguridad Sin información confidencial en archivos DockerFiles se utilizan para definir los pasos necesarios para construir imágenes de Docker. Es crucial evitar incluir información confidencial como credenciales, claves API u otros secretos directamente en Dockerfiles. Tenga en cuenta que estos archivos a menudo están controlados por versión y pueden ser accesibles para usuarios no autorizados, lo que resulta en un riesgo de seguridad significativo.\n",
  "keywords": [
    
  ],
  "articleBody": "Introducción Docker ayuda con el embalaje, la distribución y la ejecución de aplicaciones. Sin embargo, debemos ser responsables para que podamos garantizar la seguridad del entorno Docker. Hay algunas mejores prácticas y estrategias que podemos seguir para lograr este objetivo.\nLas mejores prácticas y estrategias de seguridad Sin información confidencial en archivos DockerFiles se utilizan para definir los pasos necesarios para construir imágenes de Docker. Es crucial evitar incluir información confidencial como credenciales, claves API u otros secretos directamente en Dockerfiles. Tenga en cuenta que estos archivos a menudo están controlados por versión y pueden ser accesibles para usuarios no autorizados, lo que resulta en un riesgo de seguridad significativo.\nConsidere usar variables de entorno o archivos de configuración externos para inyectar información confidencial en sus contenedores Docker en tiempo de ejecución.\nImplementar el control de acceso basado en roles (RBAC) El control de acceso basado en roles (RBAC) es un principio de seguridad que restringe el acceso al sistema en función de los roles y privilegios asignados a usuarios o grupos. En el contexto de Docker, RBAC puede limitar las capacidades de los contenedores y evitar el acceso no autorizado a recursos sensibles.\nConsidere implementar mecanismos RBAC como:\nUtilizando las características de control de acceso de roles nativo de Docker (RBAC) para definir los permisos granulares para usuarios y servicios. Restringir las capacidades de contenedores utilizando perfiles de seguridad de Docker (SECCOMP, APPARMOR o SELINUX) para minimizar el impacto potencial de las violaciones de seguridad. Revisar y actualizar regularmente los controles de acceso para garantizar que se alineen con el principio de menor privilegio y reflejen los cambios en su entorno. Use variables y archivos de entorno Las variables de entorno son mecanismo para pasar la información de configuración a los contenedores Docker. Nos permiten desacoplar la configuración de la aplicación desde la imagen del contenedor, por lo que podemos personalizar el comportamiento en diferentes entornos sin modificar la imagen subyacente.\nAl usar variables de entorno, necesitamos seguir las mejores prácticas de seguridad:\nEvite la información confidencial de codificación dura directamente en DockerFiles o el código fuente. Use herramientas de gestión de secretos cifrados para almacenar y recuperar de forma segura datos confidenciales. Limite el acceso a las variables de entorno que contienen información confidencial a usuarios y servicios autorizados. Podemos usar el soporte incorporado de Docker para archivos de entorno (--env-file) para cargar variables de entorno de archivos externos.\n``\nContenido de my_env_vars.env\nDb_host = localhost Db_user = admin Db_password = SecretPassword ``\nDockerfile consumiendo el archivo\n``\nDockerfile De Ubuntu: Último COPIAR . /aplicación\nCargar variables de entorno desde el archivo Env_file = my_env_vars.env Ejecutar set -o allexport; fuente $ env_file; establecer +o Allexport\nCMD [\"./App\"] ``\nPara ejecutar construir y ejecutar\n``\nConstruye la imagen de Docker Docker Build -t MyApp.\nEjecute el contenedor Docker con variables de entorno desde el archivo Docker Run –env-File my_env_vars.env myapp ``\n[Vuelve a BluePrint] (/Study-Devops-Benerint) ",
  "wordCount" : "486",
  "inLanguage": "es",
  "datePublished": "2024-04-21T12:49:34Z",
  "dateModified": "2024-04-21T12:49:34Z",
  "author":{
    "@type": "Person",
    "name": "Alex"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/docker-Practices-de-seguridad/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "NetWithAlex",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/assets/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/es/" accesskey="h" title="NetWithAlex (Alt + H)">NetWithAlex</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/es/" title="Inicio">
                    <span>Inicio</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/archives/" title="Archivo">
                    <span>Archivo</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/category/" title="Categorías">
                    <span>Categorías</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/sobre-mi/" title="Sobre mí">
                    <span>Sobre mí</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/search/" title="🔍">
                    <span>🔍</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/es/">Inicio</a>&nbsp;»&nbsp;<a href="http://localhost:1313/es/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Docker - Prácticas de seguridad
    </h1>
    <div class="post-meta"><span title='2024-04-21 12:49:34 +0000 +0000'>abril 21, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Alex&nbsp;|&nbsp;Traducciones:
<ul class="i18n_list">
    <li>
        <a href="http://localhost:1313/docker-safety-practices/">En</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Tabla de Contenidos</span>
        </summary>

        <div class="inner"><ul><ul>
                <li>
                    <a href="#introducci%c3%b3n" aria-label="Introducción">Introducción</a></li>
                <li>
                    <a href="#las-mejores-pr%c3%a1cticas-y-estrategias-de-seguridad" aria-label="Las mejores prácticas y estrategias de seguridad">Las mejores prácticas y estrategias de seguridad</a><ul>
                        
                <li>
                    <a href="#sin-informaci%c3%b3n-confidencial-en-archivos" aria-label="Sin información confidencial en archivos">Sin información confidencial en archivos</a></li>
                <li>
                    <a href="#implementar-el-control-de-acceso-basado-en-roles-rbac" aria-label="Implementar el control de acceso basado en roles (RBAC)">Implementar el control de acceso basado en roles (RBAC)</a></li>
                <li>
                    <a href="#use-variables-y-archivos-de-entorno" aria-label="Use variables y archivos de entorno">Use variables y archivos de entorno</a></li></ul>
                </li></ul>
                    
                <li>
                    <a href="#dockerfile" aria-label="Dockerfile">Dockerfile</a></li>
                <li>
                    <a href="#cargar-variables-de-entorno-desde-el-archivo" aria-label="Cargar variables de entorno desde el archivo">Cargar variables de entorno desde el archivo</a></li>
                <li>
                    <a href="#construye-la-imagen-de-docker" aria-label="Construye la imagen de Docker">Construye la imagen de Docker</a></li>
                <li>
                    <a href="#ejecute-el-contenedor-docker-con-variables-de-entorno-desde-el-archivo" aria-label="Ejecute el contenedor Docker con variables de entorno desde el archivo">Ejecute el contenedor Docker con variables de entorno desde el archivo</a><ul>
                        
                <li>
                    <a href="#vuelve-a-blueprint-study-devops-benerint" aria-label="[Vuelve a BluePrint] (/Study-Devops-Benerint)">[Vuelve a BluePrint] (/Study-Devops-Benerint)</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introducción">Introducción<a hidden class="anchor" aria-hidden="true" href="#introducción">#</a></h2>
<p>Docker ayuda con el embalaje, la distribución y la ejecución de aplicaciones. Sin embargo, debemos ser responsables para que podamos garantizar la seguridad del entorno Docker. Hay algunas mejores prácticas y estrategias que podemos seguir para lograr este objetivo.</p>
<h2 id="las-mejores-prácticas-y-estrategias-de-seguridad">Las mejores prácticas y estrategias de seguridad<a hidden class="anchor" aria-hidden="true" href="#las-mejores-prácticas-y-estrategias-de-seguridad">#</a></h2>
<h3 id="sin-información-confidencial-en-archivos">Sin información confidencial en archivos<a hidden class="anchor" aria-hidden="true" href="#sin-información-confidencial-en-archivos">#</a></h3>
<p>DockerFiles se utilizan para definir los pasos necesarios para construir imágenes de Docker. Es crucial evitar incluir información confidencial como credenciales, claves API u otros secretos directamente en Dockerfiles. Tenga en cuenta que estos archivos a menudo están controlados por versión y pueden ser accesibles para usuarios no autorizados, lo que resulta en un riesgo de seguridad significativo.</p>
<p>Considere usar variables de entorno o archivos de configuración externos para inyectar información confidencial en sus contenedores Docker en tiempo de ejecución.</p>
<h3 id="implementar-el-control-de-acceso-basado-en-roles-rbac">Implementar el control de acceso basado en roles (RBAC)<a hidden class="anchor" aria-hidden="true" href="#implementar-el-control-de-acceso-basado-en-roles-rbac">#</a></h3>
<p>El control de acceso basado en roles (RBAC) es un principio de seguridad que restringe el acceso al sistema en función de los roles y privilegios asignados a usuarios o grupos. En el contexto de Docker, RBAC puede limitar las capacidades de los contenedores y evitar el acceso no autorizado a recursos sensibles.</p>
<p>Considere implementar mecanismos RBAC como:</p>
<ul>
<li>Utilizando las características de control de acceso de roles nativo de Docker (RBAC) para definir los permisos granulares para usuarios y servicios.</li>
<li>Restringir las capacidades de contenedores utilizando perfiles de seguridad de Docker (SECCOMP, APPARMOR o SELINUX) para minimizar el impacto potencial de las violaciones de seguridad.</li>
<li>Revisar y actualizar regularmente los controles de acceso para garantizar que se alineen con el principio de menor privilegio y reflejen los cambios en su entorno.</li>
</ul>
<h3 id="use-variables-y-archivos-de-entorno">Use variables y archivos de entorno<a hidden class="anchor" aria-hidden="true" href="#use-variables-y-archivos-de-entorno">#</a></h3>
<p>Las variables de entorno son mecanismo para pasar la información de configuración a los contenedores Docker. Nos permiten desacoplar la configuración de la aplicación desde la imagen del contenedor, por lo que podemos personalizar el comportamiento en diferentes entornos sin modificar la imagen subyacente.</p>
<p>Al usar variables de entorno, necesitamos seguir las mejores prácticas de seguridad:</p>
<ul>
<li>Evite la información confidencial de codificación dura directamente en DockerFiles o el código fuente.</li>
<li>Use herramientas de gestión de secretos cifrados para almacenar y recuperar de forma segura datos confidenciales.</li>
<li>Limite el acceso a las variables de entorno que contienen información confidencial a usuarios y servicios autorizados.</li>
</ul>
<p>Podemos usar el soporte incorporado de Docker para archivos de entorno (<code>--env-file</code>) para cargar variables de entorno de archivos externos.</p>
<p><code> </code> ``</p>
<h3 id="heading"><a hidden class="anchor" aria-hidden="true" href="#heading">#</a></h3>
<p>Contenido de my_env_vars.env</p>
<h3 id="heading-1"><a hidden class="anchor" aria-hidden="true" href="#heading-1">#</a></h3>
<p>Db_host = localhost
Db_user = admin
Db_password = SecretPassword
<code> </code> ``</p>
<p>Dockerfile consumiendo el archivo</p>
<p><code> </code> ``</p>
<h1 id="dockerfile">Dockerfile<a hidden class="anchor" aria-hidden="true" href="#dockerfile">#</a></h1>
<p>De Ubuntu: Último
COPIAR . /aplicación</p>
<h1 id="cargar-variables-de-entorno-desde-el-archivo">Cargar variables de entorno desde el archivo<a hidden class="anchor" aria-hidden="true" href="#cargar-variables-de-entorno-desde-el-archivo">#</a></h1>
<p>Env_file = my_env_vars.env
Ejecutar set -o allexport; fuente $ env_file; establecer +o Allexport</p>
<p>CMD [&quot;./App&quot;]
<code> </code> ``</p>
<p>Para ejecutar construir y ejecutar</p>
<p><code> </code> ``</p>
<h1 id="construye-la-imagen-de-docker">Construye la imagen de Docker<a hidden class="anchor" aria-hidden="true" href="#construye-la-imagen-de-docker">#</a></h1>
<p>Docker Build -t MyApp.</p>
<h1 id="ejecute-el-contenedor-docker-con-variables-de-entorno-desde-el-archivo">Ejecute el contenedor Docker con variables de entorno desde el archivo<a hidden class="anchor" aria-hidden="true" href="#ejecute-el-contenedor-docker-con-variables-de-entorno-desde-el-archivo">#</a></h1>
<p>Docker Run &ndash;env-File my_env_vars.env myapp
<code> </code> ``</p>
<h2 id="vuelve-a-blueprint-study-devops-benerint">[Vuelve a BluePrint] (/Study-Devops-Benerint)<a hidden class="anchor" aria-hidden="true" href="#vuelve-a-blueprint-study-devops-benerint">#</a></h2>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/es/">NetWithAlex</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copiar';

        function copyingDone() {
            copybutton.innerHTML = '¡copiado!';
            setTimeout(() => {
                copybutton.innerHTML = 'copiar';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
