<!DOCTYPE html>
<html lang="es" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Simplificando la gesti√≥n de t√∫neles con Tunnel Groups en Cisco SD-WAN | NetWithAlex</title>
<meta name="keywords" content="">
<meta name="description" content="Descubre c√≥mo los Tunnel Groups en Cisco SD-WAN simplifican la gesti√≥n de t√∫neles a gran escala. Aprende c√≥mo funcionan, en qu√© se diferencian de las pol√≠ticas de control y cu√°ndo usarlos con ejemplos del mundo real.">
<meta name="author" content="Alex">
<link rel="canonical" href="http://localhost:1313/tunnel-groups-es/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/tunnel-groups-en/">
<link rel="alternate" hreflang="es" href="http://localhost:1313/tunnel-groups-es/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>















    
        <link rel="preconnect" href="https://plausible.io">
    
        <!-- Dev mode : We do not load plausible script to avoid bloating your stats -->

<!-- If you are using Content-Security-Policy, do not forget to add this code to your CSP : 
  script-src 'unsafe-inline' https://plausible.io
  connect-src 'unsafe-inline' https://plausible.io
  or just add the partial 'plausible_csp.html' to those 2 csp directives in your 'index.headers' file
-->



    
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script>
         
         
         
    </script>

    

<link rel="stylesheet" href="/assets/css/custom.css">
<meta property="og:url" content="http://localhost:1313/tunnel-groups-es/">
  <meta property="og:site_name" content="NetWithAlex">
  <meta property="og:title" content="Simplificando la gesti√≥n de t√∫neles con Tunnel Groups en Cisco SD-WAN">
  <meta property="og:description" content="Descubre c√≥mo los Tunnel Groups en Cisco SD-WAN simplifican la gesti√≥n de t√∫neles a gran escala. Aprende c√≥mo funcionan, en qu√© se diferencian de las pol√≠ticas de control y cu√°ndo usarlos con ejemplos del mundo real.">
  <meta property="og:locale" content="es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-07-15T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-07-15T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Simplificando la gesti√≥n de t√∫neles con Tunnel Groups en Cisco SD-WAN">
<meta name="twitter:description" content="Descubre c√≥mo los Tunnel Groups en Cisco SD-WAN simplifican la gesti√≥n de t√∫neles a gran escala. Aprende c√≥mo funcionan, en qu√© se diferencian de las pol√≠ticas de control y cu√°ndo usarlos con ejemplos del mundo real.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/es/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Simplificando la gesti√≥n de t√∫neles con Tunnel Groups en Cisco SD-WAN",
      "item": "http://localhost:1313/tunnel-groups-es/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Simplificando la gesti√≥n de t√∫neles con Tunnel Groups en Cisco SD-WAN",
  "name": "Simplificando la gesti√≥n de t√∫neles con Tunnel Groups en Cisco SD-WAN",
  "description": "Descubre c√≥mo los Tunnel Groups en Cisco SD-WAN simplifican la gesti√≥n de t√∫neles a gran escala. Aprende c√≥mo funcionan, en qu√© se diferencian de las pol√≠ticas de control y cu√°ndo usarlos con ejemplos del mundo real.",
  "keywords": [
    
  ],
  "articleBody": "Introducci√≥n SD-WAN proporciona una arquitectura de overlay altamente flexible que permite construir t√∫neles sobre m√∫ltiples tipos de transporte. Un aspecto clave de esta flexibilidad es c√≥mo se reenv√≠a el tr√°fico entre dispositivos edge a trav√©s de t√∫neles basados en colores de transporte como privados (mpls, private1, etc) y p√∫blicos (public-internet, biz-internet, etc).\nExisten un par de formas de controlar qu√© t√∫neles se crean, siendo las m√°s destacadas las Pol√≠ticas de Control y los Tunnel Groups.\nLos Tunnel Groups permiten a los administradores de red agrupar l√≥gicamente t√∫neles (TLOCs) bajo una etiqueta com√∫n, simplificando c√≥mo se establecen los t√∫neles entre dispositivos. Este enfoque hace que la gesti√≥n de t√∫neles sea m√°s escalable y f√°cil de mantener. En este post exploraremos qu√© son los Tunnel Groups, c√≥mo funcionan y c√≥mo pueden servir como alternativa a las Control Policies en ciertos escenarios.\n¬øQu√© son los Tunnel Groups? Un Tunnel Group es una etiqueta num√©rica que representa un conjunto de TLOCs (t√∫neles) agrupados l√≥gicamente seg√∫n una intenci√≥n definida.\nFigura 1 ‚Äì Tunnel Group configurado en Feature Template Una vez que se configura un Tunnel Group ID, el router:\nEstablecer√° t√∫neles con TLOCs que tengan el mismo Tunnel Group ID. Establecer√° t√∫neles con TLOCs que no tengan Tunnel Group ID (valor 0). El Tunnel Group ID se propaga por OMP, igual que otros atributos de los TLOCs. Una diferencia clave entre Tunnel Groups y Pol√≠ticas de Control es d√≥nde se aplican: los Tunnel Groups controlan el establecimiento de t√∫neles localmente en el dispositivo, mientras que las Control Policies determinan qu√© TLOCs son anunciados por el Controller (vSmart) a nivel central. Ambos mecanismos pueden usarse de forma independiente o combinada, dependiendo del dise√±o.\nComportamiento del Tunnel Group: Ejemplo Real Tomemos esta topolog√≠a como referencia para el escenario:\nFigura 2 ‚Äì Topolog√≠a de Referencia Vamos a validar c√≥mo los Tunnel Group IDs influyen en qu√© t√∫neles se forman realmente observando los TLOCs y sesiones BFD desde un dispositivo en el sitio 20.\nBarcelona_BR20-1#show sdwan omp tlocs table ... PUBLIC PRIVATE AFFINITY ADDRESS TENANT PSEUDO PUBLIC PRIVATE PUBLIC IPV6 PRIVATE IPV6 BFD GROUP FAMILY TLOC IP COLOR ENCAP ID FROM PEER STATUS TENANT NAME KEY PUBLIC IP PORT PRIVATE IP PORT IPV6 PORT IPV6 PORT STATUS REGION ID NUMBER --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- ipv4 1.1.10.1 mpls ipsec 0 1.0.0.3 C,I,R [Default] 1 21.11.0.2 12426 21.11.0.2 12426 :: 0 :: 0 down None None 1.1.10.1 biz-internet ipsec 0 1.0.0.3 C,I,R [Default] 1 31.11.0.2 12346 31.11.0.2 12346 :: 0 :: 0 down None None 1.1.10.2 mpls ipsec 0 1.0.0.3 C,I,R [Default] 1 21.12.0.2 12346 21.12.0.2 12346 :: 0 :: 0 down None None 1.1.10.2 biz-internet ipsec 0 1.0.0.3 C,I,R [Default] 1 31.12.0.2 12346 31.12.0.2 12346 :: 0 :: 0 down None None 1.1.20.1 mpls ipsec 0 0.0.0.0 C,Red,R [Default] 1 21.21.0.2 12346 21.21.0.2 12346 :: 0 :: 0 up None None 1.1.20.1 biz-internet ipsec 0 0.0.0.0 C,Red,R [Default] 1 31.21.0.2 12346 31.21.0.2 12346 :: 0 :: 0 up None None 1.1.20.2 mpls ipsec 0 1.0.0.3 C,I,R [Default] 1 21.22.0.2 12346 21.22.0.2 12346 :: 0 :: 0 down None None 1.1.20.2 biz-internet ipsec 0 1.0.0.3 C,I,R [Default] 1 31.22.0.2 12346 31.22.0.2 12346 :: 0 :: 0 down None None 1.1.100.1 mpls ipsec 0 1.0.0.3 C,I,R [Default] 1 21.101.0.2 12406 21.101.0.2 12406 :: 0 :: 0 up None None 1.1.100.1 biz-internet ipsec 0 1.0.0.3 C,I,R [Default] 1 31.101.0.2 12346 31.101.0.2 12346 :: 0 :: 0 up None None 1.1.100.2 mpls ipsec 0 1.0.0.3 C,I,R [Default] 1 21.102.0.2 12346 21.102.0.2 12346 :: 0 :: 0 up None None 1.1.100.2 biz-internet ipsec 0 1.0.0.3 C,I,R [Default] 1 31.102.0.2 12346 31.102.0.2 12346 :: 0 :: 0 up None None 1.1.200.1 mpls ipsec 0 1.0.0.3 C,I,R [Default] 1 21.201.0.2 12346 21.201.0.2 12346 :: 0 :: 0 up None None 1.1.200.1 biz-internet ipsec 0 1.0.0.3 C,I,R [Default] 1 31.201.0.2 12346 31.201.0.2 12346 :: 0 :: 0 up None None 1.1.200.2 mpls ipsec 0 1.0.0.3 C,I,R [Default] 1 21.202.0.2 12346 21.202.0.2 12346 :: 0 :: 0 up None None 1.1.200.2 biz-internet ipsec 0 1.0.0.3 C,I,R [Default] 1 31.202.0.2 12386 31.202.0.2 12386 :: 0 :: 0 down None None Se reciben 14 TLOCs desde vSmart, pero solo algunos t√∫neles est√°n activos:\nBarcelona_BR20-1#sh sdwan bfd sessions SOURCE TLOC REMOTE TLOC DST PUBLIC DST PUBLIC DETECT TX SYSTEM IP SITE ID STATE COLOR COLOR SOURCE IP IP PORT ENCAP MULTIPLIER INTERVAL(msec UPTIME TRANSITIONS ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.1.100.1 100 up mpls mpls 21.21.0.2 21.101.0.2 12406 ipsec 7 1000 0:02:23:34 2 1.1.100.2 100 up mpls mpls 21.21.0.2 21.102.0.2 12346 ipsec 7 1000 0:02:23:33 1 1.1.200.1 200 up mpls mpls 21.21.0.2 21.201.0.2 12346 ipsec 7 1000 6:03:57:35 0 1.1.200.2 200 up mpls mpls 21.21.0.2 21.202.0.2 12346 ipsec 7 1000 6:03:57:36 0 1.1.100.1 100 up biz-internet biz-internet 31.21.0.2 31.101.0.2 12346 ipsec 7 1000 0:02:23:34 1 1.1.100.2 100 up biz-internet biz-internet 31.21.0.2 31.102.0.2 12346 ipsec 7 1000 0:02:23:33 1 1.1.200.1 200 up biz-internet biz-internet 31.21.0.2 31.201.0.2 12346 ipsec 7 1000 6:03:57:35 0 1.1.200.2 200 up biz-internet biz-internet 31.21.0.2 31.202.0.2 12426 ipsec 7 1000 0:00:00:08 0 Si examinamos los detalles de los TLOC, vemos que hay 4 TLOCs con un group-id no coincidente de 10. El resto o bien coinciden o est√°n sin configurar ([0]). Recuerda que los dispositivos dentro del mismo sitio no forman t√∫neles BFD.\nBarcelona_BR20-1#show sdwan omp tlocs | include tloc|mpls|internet|groups|site tloc entries for 1.1.10.1 \u003c\u003c\u003c Group ID Diferente mpls site-id 10 groups [ 10 ] site-type not set tloc entries for 1.1.10.1 \u003c\u003c\u003c Group ID Diferente biz-internet site-id 10 groups [ 10 ] site-type not set tloc entries for 1.1.10.2 \u003c\u003c\u003c Group ID Diferente mpls site-id 10 groups [ 10 ] site-type not set tloc entries for 1.1.10.2 \u003c\u003c\u003c Group ID Diferente biz-internet site-id 10 groups [ 10 ] site-type not set tloc entries for 1.1.20.1 \u003c\u003c\u003c\u003c TLOC propio mpls site-id 20 groups [ 20 ] site-type not set site-id 20 groups [ 20 ] ) site-type not set tloc entries for 1.1.20.1 \u003c\u003c\u003c\u003c TLOC propio biz-internet site-id 20 groups [ 20 ] site-type not set site-id 20 groups [ 20 ] ) site-type not set tloc entries for 1.1.20.2 \u003c\u003c\u003c\u003c mismo sitio mpls site-id 20 groups [ 20 ] site-type not set tloc entries for 1.1.20.2 \u003c\u003c\u003c\u003c mismo sitio biz-internet site-id 20 groups [ 20 ] site-type not set tloc entries for 1.1.100.1 #1 mpls site-id 100 groups [ 0 ] site-type not set tloc entries for 1.1.100.1 #2 biz-internet site-id 100 groups [ 0 ] site-type not set tloc entries for 1.1.100.2 #3 mpls site-id 100 groups [ 0 ] site-type not set tloc entries for 1.1.100.2 #4 biz-internet site-id 100 groups [ 0 ] site-type not set tloc entries for 1.1.200.1 #5 mpls site-id 200 groups [ 20 ] site-type not set tloc entries for 1.1.200.1 #6 biz-internet site-id 200 groups [ 20 ] site-type not set tloc entries for 1.1.200.2 #7 mpls site-id 200 groups [ 20 ] site-type not set tloc entries for 1.1.200.2 #8 biz-internet site-id 200 groups [ 20 ] site-type not set Tunnel Group + opci√≥n restrict Como se muestra arriba, solo se establecen t√∫neles entre colores coincidentes, lo que significa que la opci√≥n restrict est√° habilitada en los dispositivos:\nFigura 3 ‚Äì Configuraci√≥n de Tunnel Group con la opci√≥n 'restrict' Si se desactiva la opci√≥n restrict para el t√∫nel MPLS, veamos qu√© sucede con las sesiones BFD:\nBarcelona_BR20-1#show sdwan bfd sessions SOURCE TLOC REMOTE TLOC DST PUBLIC DST PUBLIC DETECT TX SYSTEM IP SITE ID STATE COLOR COLOR SOURCE IP IP PORT ENCAP MULTIPLIER INTERVAL(msec UPTIME TRANSITIONS ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- 1.1.100.1 100 up mpls mpls 21.21.0.2 21.101.0.2 12406 ipsec 7 1000 0:03:14:45 2 1.1.100.2 100 up mpls mpls 21.21.0.2 21.102.0.2 12346 ipsec 7 1000 0:03:14:44 1 1.1.200.1 200 up mpls mpls 21.21.0.2 21.201.0.2 12346 ipsec 7 1000 6:04:48:46 0 1.1.200.2 200 up mpls mpls 21.21.0.2 21.202.0.2 12346 ipsec 7 1000 6:04:48:47 0 1.1.100.1 100 up mpls biz-internet 21.21.0.2 31.101.0.2 12346 ipsec 7 1000 0:00:03:37 0 1.1.100.2 100 up mpls biz-internet 21.21.0.2 31.102.0.2 12346 ipsec 7 1000 0:00:03:37 0 1.1.200.1 200 up mpls biz-internet 21.21.0.2 31.201.0.2 12346 ipsec 7 1000 0:00:03:37 0 1.1.200.2 200 up mpls biz-internet 21.21.0.2 31.202.0.2 12426 ipsec 7 1000 0:00:03:37 0 1.1.200.1 200 up biz-internet mpls 31.21.0.2 21.201.0.2 12346 ipsec 7 1000 0:00:03:33 0 1.1.200.2 200 up biz-internet mpls 31.21.0.2 21.202.0.2 12346 ipsec 7 1000 0:00:03:35 0 1.1.100.1 100 up biz-internet biz-internet 31.21.0.2 31.101.0.2 12346 ipsec 7 1000 0:03:14:45 1 1.1.100.2 100 up biz-internet biz-internet 31.21.0.2 31.102.0.2 12346 ipsec 7 1000 0:03:14:44 1 1.1.200.1 200 up biz-internet biz-internet 31.21.0.2 31.201.0.2 12346 ipsec 7 1000 6:04:48:46 0 1.1.200.2 200 up biz-internet biz-internet 31.21.0.2 31.202.0.2 12426 ipsec 7 1000 0:00:51:19 0 Ahora hay t√∫neles entre diferentes colores, pero respetando el Tunnel Group ID.\nEn resumen, si la opci√≥n restrict est√° configurada junto con Tunnel Groups, los t√∫neles se formar√°n si:\nEl color del TLOC coincide. Los Tunnel Group IDs coinciden o uno de los extremos no tiene Tunnel Group configurado (Group 0). Casos de Uso Veamos algunos casos reales para esta funcionalidad.\nAgrupar colores privados y p√∫blicos Existen m√∫ltiples etiquetas para colores privados y p√∫blicos. Dependiendo del dise√±o de red, podr√≠as terminar con diferentes nombres de colores por regi√≥n. Ejemplo:\nContinente Colores P√∫blicos Colores Privados Europa biz-internet mpls Am√©rica gold metro-ethernet Usando Tunnel Groups, podemos separar f√°cilmente los t√∫neles entre colores privados y p√∫blicos:\nFigura 4 ‚Äì Agrupaci√≥n de Colores basada en Tunnel Group ID Asignando Tunnel Group 10 a los colores privados, nos aseguramos que solo se establezcan t√∫neles entre mpls y metro-ethernet. De igual forma, el Tunnel Group 20 permitir√° t√∫neles entre colores p√∫blicos, gold y biz-internet.\nEscalamiento Horizontal Cuando los routers del data center deben construir t√∫neles con muchas sucursales remotas, cada una usando m√∫ltiples transportes, pueden alcanzar el l√≠mite de escala de t√∫neles de la plataforma. Tunnel Groups ayudan a distribuir la creaci√≥n de t√∫neles entre diferentes routers y sucursales, haciendo el dise√±o m√°s escalable.\nFigura 5 ‚Äì Estrategia de Escalamiento Horizontal con Tunnel Groups As√≠, cada sucursal estar√° conectada a ambos data centers, pero manteniendo bajo control la cantidad de sesiones en los routers del data center.\nCrear Mesh Parcial Si necesitas crear una malla parcial, los Tunnel Groups pueden ser de gran ayuda.\nFigura 5 ‚Äì Topolog√≠a de Mesh Parcial En este caso, los dispositivos con Tunnel Group 10 y sin Tunnel Group (0) establecer√°n t√∫neles entre ellos. De igual forma, los dispositivos con Tunnel Group 20 y sin Tunnel Group (0) formar√°n t√∫neles.\nConclusi√≥n Los Tunnel Groups en Cisco SD-WAN ofrecen una forma escalable de controlar el establecimiento de t√∫neles en despliegues peque√±os o grandes. Al etiquetar TLOCs con IDs de grupo num√©ricos, puedes:\nCrear grupos l√≥gicos de t√∫neles sin depender √∫nicamente del color. Reducir la complejidad de las pol√≠ticas de control centralizadas. Dise√±ar topolog√≠as m√°s predecibles y escalables como malla parcial, hub-and-spoke o escalamiento horizontal. Ya sea para lidiar con nombres de colores inconsistentes entre regiones, escalar routers del data center o simplemente tener una forma m√°s limpia de gestionar t√∫neles, los Tunnel Groups ofrecen una herramienta potente para simplificar el dise√±o.\nCuando se combinan con la opci√≥n restrict, los Tunnel Groups te dan control granular sobre qu√© t√∫neles se permiten,por color, por grupo o ambos. Con la estrategia adecuada, puedes reducir significativamente la cantidad de t√∫neles innecesarios, manteniendo alta disponibilidad y buen rendimiento.\n",
  "wordCount" : "1862",
  "inLanguage": "es",
  "datePublished": "2025-07-15T00:00:00Z",
  "dateModified": "2025-07-15T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Alex"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/tunnel-groups-es/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "NetWithAlex",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/assets/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/es/" accesskey="h" title="NetWithAlex (Alt + H)">NetWithAlex</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="http://localhost:1313/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/es/" title="Inicio">
                    <span>Inicio</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/archives/" title="Archivo">
                    <span>Archivo</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/category/" title="Categor√≠as">
                    <span>Categor√≠as</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/sobre-mi/" title="Sobre m√≠">
                    <span>Sobre m√≠</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/es/search/" title="üîç">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/es/">Inicio</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/es/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Simplificando la gesti√≥n de t√∫neles con Tunnel Groups en Cisco SD-WAN
    </h1>
    <div class="post-description">
      Descubre c√≥mo los Tunnel Groups en Cisco SD-WAN simplifican la gesti√≥n de t√∫neles a gran escala. Aprende c√≥mo funcionan, en qu√© se diferencian de las pol√≠ticas de control y cu√°ndo usarlos con ejemplos del mundo real.
    </div>
    <div class="post-meta"><span title='2025-07-15 00:00:00 +0000 +0000'>julio 15, 2025</span>&nbsp;¬∑&nbsp;9 min&nbsp;¬∑&nbsp;Alex&nbsp;|&nbsp;Traducciones:
<ul class="i18n_list">
    <li>
        <a href="http://localhost:1313/tunnel-groups-en/">En</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Tabla de Contenidos</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introducci%c3%b3n" aria-label="Introducci√≥n">Introducci√≥n</a></li>
                <li>
                    <a href="#qu%c3%a9-son-los-tunnel-groups" aria-label="¬øQu√© son los Tunnel Groups?">¬øQu√© son los Tunnel Groups?</a></li>
                <li>
                    <a href="#comportamiento-del-tunnel-group-ejemplo-real" aria-label="Comportamiento del Tunnel Group: Ejemplo Real">Comportamiento del Tunnel Group: Ejemplo Real</a></li>
                <li>
                    <a href="#tunnel-group--opci%c3%b3n-restrict" aria-label="Tunnel Group &#43; opci√≥n restrict">Tunnel Group + opci√≥n restrict</a></li>
                <li>
                    <a href="#casos-de-uso" aria-label="Casos de Uso">Casos de Uso</a><ul>
                        
                <li>
                    <a href="#agrupar-colores-privados-y-p%c3%bablicos" aria-label="Agrupar colores privados y p√∫blicos">Agrupar colores privados y p√∫blicos</a></li>
                <li>
                    <a href="#escalamiento-horizontal" aria-label="Escalamiento Horizontal">Escalamiento Horizontal</a></li>
                <li>
                    <a href="#crear-mesh-parcial" aria-label="Crear Mesh Parcial">Crear Mesh Parcial</a></li></ul>
                </li>
                <li>
                    <a href="#conclusi%c3%b3n" aria-label="Conclusi√≥n">Conclusi√≥n</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introducci√≥n">Introducci√≥n<a hidden class="anchor" aria-hidden="true" href="#introducci√≥n">#</a></h2>
<p>SD-WAN proporciona una arquitectura de overlay altamente flexible que permite construir t√∫neles sobre m√∫ltiples tipos de transporte. Un aspecto clave de esta flexibilidad es c√≥mo se reenv√≠a el tr√°fico entre dispositivos edge a trav√©s de t√∫neles basados en colores de transporte como <strong>privados</strong> (mpls, private1, etc) y <strong>p√∫blicos</strong> (public-internet, biz-internet, etc).</p>
<p>Existen un par de formas de controlar qu√© t√∫neles se crean, siendo las m√°s destacadas las <a href="/policies-intro-es/">Pol√≠ticas de Control</a> y los Tunnel Groups.</p>
<p>Los Tunnel Groups permiten a los administradores de red agrupar l√≥gicamente t√∫neles (TLOCs) bajo una etiqueta com√∫n, simplificando c√≥mo se establecen los t√∫neles entre dispositivos. Este enfoque hace que la gesti√≥n de t√∫neles sea m√°s escalable y f√°cil de mantener. En este post exploraremos qu√© son los Tunnel Groups, c√≥mo funcionan y c√≥mo pueden servir como alternativa a las Control Policies en ciertos escenarios.</p>
<h2 id="qu√©-son-los-tunnel-groups">¬øQu√© son los Tunnel Groups?<a hidden class="anchor" aria-hidden="true" href="#qu√©-son-los-tunnel-groups">#</a></h2>
<p>Un Tunnel Group es una etiqueta num√©rica que representa un conjunto de TLOCs (t√∫neles) agrupados l√≥gicamente seg√∫n una intenci√≥n definida.</p>
<figure class="custom-figure">
  <img src="/wp-content/uploads/2025/07/tg1.png" alt="">
  
  
  
    <figcaption>
      <strong>Figura 1</strong>
       ‚Äì 
      Tunnel Group configurado en Feature Template
    </figcaption>
  
</figure>

<p>Una vez que se configura un Tunnel Group ID, el router:</p>
<ul>
<li>Establecer√° t√∫neles con TLOCs que tengan el mismo Tunnel Group ID.</li>
<li>Establecer√° t√∫neles con TLOCs que no tengan Tunnel Group ID (valor 0).</li>
</ul>
<p>El Tunnel Group ID se propaga por OMP, igual que otros atributos de los TLOCs. Una diferencia clave entre Tunnel Groups y Pol√≠ticas de Control es d√≥nde se aplican: los Tunnel Groups controlan el establecimiento de t√∫neles localmente en el dispositivo, mientras que las Control Policies determinan qu√© TLOCs son anunciados por el Controller (vSmart) a nivel central. Ambos mecanismos pueden usarse de forma independiente o combinada, dependiendo del dise√±o.</p>
<h2 id="comportamiento-del-tunnel-group-ejemplo-real">Comportamiento del Tunnel Group: Ejemplo Real<a hidden class="anchor" aria-hidden="true" href="#comportamiento-del-tunnel-group-ejemplo-real">#</a></h2>
<p>Tomemos esta topolog√≠a como referencia para el escenario:</p>
<figure class="custom-figure">
  <img src="/wp-content/uploads/2025/07/tg3.png" alt="Topology">
  
  
  
    <figcaption>
      <strong>Figura 2</strong>
       ‚Äì 
      Topolog√≠a de Referencia
    </figcaption>
  
</figure>

<p>Vamos a validar c√≥mo los Tunnel Group IDs influyen en qu√© t√∫neles se forman realmente observando los TLOCs y sesiones BFD desde un dispositivo en el sitio 20.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Barcelona_BR20-1#show sdwan omp tlocs table
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                                                                                                                                                                                   PUBLIC           PRIVATE                      AFFINITY    
</span></span><span style="display:flex;"><span>ADDRESS                                           TENANT                                                        PSEUDO                   PUBLIC                   PRIVATE  PUBLIC  IPV6    PRIVATE  IPV6     BFD                 GROUP       
</span></span><span style="display:flex;"><span>FAMILY   TLOC IP          COLOR            ENCAP  ID        FROM PEER        STATUS    TENANT NAME              KEY     PUBLIC IP        PORT    PRIVATE IP       PORT     IPV6    PORT    IPV6     PORT     STATUS  REGION ID   NUMBER      
</span></span><span style="display:flex;"><span>---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
</span></span><span style="display:flex;"><span>ipv4     1.1.10.1         mpls             ipsec  0         1.0.0.3          C,I,R     [Default]                1       21.11.0.2        12426   21.11.0.2        12426    ::      0       ::       0        down    None        None        
</span></span><span style="display:flex;"><span>         1.1.10.1         biz-internet     ipsec  0         1.0.0.3          C,I,R     [Default]                1       31.11.0.2        12346   31.11.0.2        12346    ::      0       ::       0        down    None        None        
</span></span><span style="display:flex;"><span>         1.1.10.2         mpls             ipsec  0         1.0.0.3          C,I,R     [Default]                1       21.12.0.2        12346   21.12.0.2        12346    ::      0       ::       0        down    None        None        
</span></span><span style="display:flex;"><span>         1.1.10.2         biz-internet     ipsec  0         1.0.0.3          C,I,R     [Default]                1       31.12.0.2        12346   31.12.0.2        12346    ::      0       ::       0        down    None        None        
</span></span><span style="display:flex;"><span>         1.1.20.1         mpls             ipsec  0         0.0.0.0          C,Red,R   [Default]                1       21.21.0.2        12346   21.21.0.2        12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.20.1         biz-internet     ipsec  0         0.0.0.0          C,Red,R   [Default]                1       31.21.0.2        12346   31.21.0.2        12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.20.2         mpls             ipsec  0         1.0.0.3          C,I,R     [Default]                1       21.22.0.2        12346   21.22.0.2        12346    ::      0       ::       0        down    None        None        
</span></span><span style="display:flex;"><span>         1.1.20.2         biz-internet     ipsec  0         1.0.0.3          C,I,R     [Default]                1       31.22.0.2        12346   31.22.0.2        12346    ::      0       ::       0        down    None        None        
</span></span><span style="display:flex;"><span>         1.1.100.1        mpls             ipsec  0         1.0.0.3          C,I,R     [Default]                1       21.101.0.2       12406   21.101.0.2       12406    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.100.1        biz-internet     ipsec  0         1.0.0.3          C,I,R     [Default]                1       31.101.0.2       12346   31.101.0.2       12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.100.2        mpls             ipsec  0         1.0.0.3          C,I,R     [Default]                1       21.102.0.2       12346   21.102.0.2       12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.100.2        biz-internet     ipsec  0         1.0.0.3          C,I,R     [Default]                1       31.102.0.2       12346   31.102.0.2       12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.200.1        mpls             ipsec  0         1.0.0.3          C,I,R     [Default]                1       21.201.0.2       12346   21.201.0.2       12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.200.1        biz-internet     ipsec  0         1.0.0.3          C,I,R     [Default]                1       31.201.0.2       12346   31.201.0.2       12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.200.2        mpls             ipsec  0         1.0.0.3          C,I,R     [Default]                1       21.202.0.2       12346   21.202.0.2       12346    ::      0       ::       0        up      None        None        
</span></span><span style="display:flex;"><span>         1.1.200.2        biz-internet     ipsec  0         1.0.0.3          C,I,R     [Default]                1       31.202.0.2       12386   31.202.0.2       12386    ::      0       ::       0        down    None        None        
</span></span></code></pre></div><p>Se reciben 14 TLOCs desde vSmart, pero solo algunos t√∫neles est√°n activos:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Barcelona_BR20-1#sh sdwan bfd sessions 
</span></span><span style="display:flex;"><span>                                      SOURCE TLOC      REMOTE TLOC                                      DST PUBLIC                      DST PUBLIC         DETECT      TX                              
</span></span><span style="display:flex;"><span>SYSTEM IP        SITE ID     STATE       COLOR            COLOR            SOURCE IP                                       IP                                              PORT        ENCAP  MULTIPLIER  INTERVAL(msec  UPTIME          TRANSITIONS   
</span></span><span style="display:flex;"><span>-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
</span></span><span style="display:flex;"><span>1.1.100.1        100         up          mpls             mpls             21.21.0.2                                       21.101.0.2                                      12406       ipsec  7           1000           0:02:23:34      2             
</span></span><span style="display:flex;"><span>1.1.100.2        100         up          mpls             mpls             21.21.0.2                                       21.102.0.2                                      12346       ipsec  7           1000           0:02:23:33      1             
</span></span><span style="display:flex;"><span>1.1.200.1        200         up          mpls             mpls             21.21.0.2                                       21.201.0.2                                      12346       ipsec  7           1000           6:03:57:35      0             
</span></span><span style="display:flex;"><span>1.1.200.2        200         up          mpls             mpls             21.21.0.2                                       21.202.0.2                                      12346       ipsec  7           1000           6:03:57:36      0             
</span></span><span style="display:flex;"><span>1.1.100.1        100         up          biz-internet     biz-internet     31.21.0.2                                       31.101.0.2                                      12346       ipsec  7           1000           0:02:23:34      1             
</span></span><span style="display:flex;"><span>1.1.100.2        100         up          biz-internet     biz-internet     31.21.0.2                                       31.102.0.2                                      12346       ipsec  7           1000           0:02:23:33      1             
</span></span><span style="display:flex;"><span>1.1.200.1        200         up          biz-internet     biz-internet     31.21.0.2                                       31.201.0.2                                      12346       ipsec  7           1000           6:03:57:35      0             
</span></span><span style="display:flex;"><span>1.1.200.2        200         up          biz-internet     biz-internet     31.21.0.2                                       31.202.0.2                                      12426       ipsec  7           1000           0:00:00:08      0             
</span></span></code></pre></div><p>Si examinamos los detalles de los TLOC, vemos que hay 4 TLOCs con un group-id no coincidente de 10. El resto o bien coinciden o est√°n sin configurar ([0]). Recuerda que los dispositivos dentro del mismo sitio no forman t√∫neles BFD.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Barcelona_BR20-1#show sdwan omp tlocs | include tloc|mpls|internet|groups|site
</span></span><span style="display:flex;"><span>tloc entries for 1.1.10.1      &lt;&lt;&lt; Group ID Diferente
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           10
</span></span><span style="display:flex;"><span>     groups            [ 10 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.10.1       &lt;&lt;&lt; Group ID Diferente
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           10
</span></span><span style="display:flex;"><span>     groups            [ 10 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.10.2       &lt;&lt;&lt; Group ID Diferente
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           10
</span></span><span style="display:flex;"><span>     groups            [ 10 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.10.2       &lt;&lt;&lt; Group ID Diferente
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           10
</span></span><span style="display:flex;"><span>     groups            [ 10 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.20.1    &lt;&lt;&lt;&lt; TLOC propio 
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           20
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>     site-id           20
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>)     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.20.1    &lt;&lt;&lt;&lt; TLOC propio
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           20
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>     site-id           20
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>)     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.20.2   &lt;&lt;&lt;&lt; mismo sitio
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           20
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.20.2   &lt;&lt;&lt;&lt; mismo sitio
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           20
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.100.1       #1
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           100
</span></span><span style="display:flex;"><span>     groups            [ 0 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.100.1       #2
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           100
</span></span><span style="display:flex;"><span>     groups            [ 0 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.100.2       #3
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           100
</span></span><span style="display:flex;"><span>     groups            [ 0 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.100.2        #4
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           100
</span></span><span style="display:flex;"><span>     groups            [ 0 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.200.1       #5
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           200
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.200.1       #6
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           200
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.200.2       #7
</span></span><span style="display:flex;"><span>                 mpls
</span></span><span style="display:flex;"><span>     site-id           200
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span><span style="display:flex;"><span>tloc entries for 1.1.200.2       #8
</span></span><span style="display:flex;"><span>                 biz-internet
</span></span><span style="display:flex;"><span>     site-id           200
</span></span><span style="display:flex;"><span>     groups            [ 20 ]
</span></span><span style="display:flex;"><span>     site-type        not set
</span></span></code></pre></div><h2 id="tunnel-group--opci√≥n-restrict">Tunnel Group + opci√≥n restrict<a hidden class="anchor" aria-hidden="true" href="#tunnel-group--opci√≥n-restrict">#</a></h2>
<p>Como se muestra arriba, solo se establecen t√∫neles entre colores coincidentes, lo que significa que la opci√≥n restrict est√° habilitada en los dispositivos:</p>
<figure class="custom-figure">
  <img src="/wp-content/uploads/2025/07/tg2.png" alt="">
  
  
  
    <figcaption>
      <strong>Figura 3</strong>
       ‚Äì 
      Configuraci√≥n de Tunnel Group con la opci√≥n &#39;restrict&#39;
    </figcaption>
  
</figure>

<p>Si se desactiva la opci√≥n restrict para el t√∫nel MPLS, veamos qu√© sucede con las sesiones BFD:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Barcelona_BR20-1#show sdwan bfd sessions 
</span></span><span style="display:flex;"><span>                                      SOURCE TLOC      REMOTE TLOC                                      DST PUBLIC                      DST PUBLIC         DETECT      TX                              
</span></span><span style="display:flex;"><span>SYSTEM IP        SITE ID     STATE       COLOR            COLOR            SOURCE IP                                       IP                                              PORT        ENCAP  MULTIPLIER  INTERVAL(msec  UPTIME          TRANSITIONS   
</span></span><span style="display:flex;"><span>-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
</span></span><span style="display:flex;"><span>1.1.100.1        100         up          mpls             mpls             21.21.0.2                                       21.101.0.2                                      12406       ipsec  7           1000           0:03:14:45      2             
</span></span><span style="display:flex;"><span>1.1.100.2        100         up          mpls             mpls             21.21.0.2                                       21.102.0.2                                      12346       ipsec  7           1000           0:03:14:44      1             
</span></span><span style="display:flex;"><span>1.1.200.1        200         up          mpls             mpls             21.21.0.2                                       21.201.0.2                                      12346       ipsec  7           1000           6:04:48:46      0             
</span></span><span style="display:flex;"><span>1.1.200.2        200         up          mpls             mpls             21.21.0.2                                       21.202.0.2                                      12346       ipsec  7           1000           6:04:48:47      0             
</span></span><span style="display:flex;"><span>1.1.100.1        100         up          mpls             biz-internet     21.21.0.2                                       31.101.0.2                                      12346       ipsec  7           1000           0:00:03:37      0             
</span></span><span style="display:flex;"><span>1.1.100.2        100         up          mpls             biz-internet     21.21.0.2                                       31.102.0.2                                      12346       ipsec  7           1000           0:00:03:37      0             
</span></span><span style="display:flex;"><span>1.1.200.1        200         up          mpls             biz-internet     21.21.0.2                                       31.201.0.2                                      12346       ipsec  7           1000           0:00:03:37      0             
</span></span><span style="display:flex;"><span>1.1.200.2        200         up          mpls             biz-internet     21.21.0.2                                       31.202.0.2                                      12426       ipsec  7           1000           0:00:03:37      0             
</span></span><span style="display:flex;"><span>1.1.200.1        200         up          biz-internet     mpls             31.21.0.2                                       21.201.0.2                                      12346       ipsec  7           1000           0:00:03:33      0             
</span></span><span style="display:flex;"><span>1.1.200.2        200         up          biz-internet     mpls             31.21.0.2                                       21.202.0.2                                      12346       ipsec  7           1000           0:00:03:35      0             
</span></span><span style="display:flex;"><span>1.1.100.1        100         up          biz-internet     biz-internet     31.21.0.2                                       31.101.0.2                                      12346       ipsec  7           1000           0:03:14:45      1             
</span></span><span style="display:flex;"><span>1.1.100.2        100         up          biz-internet     biz-internet     31.21.0.2                                       31.102.0.2                                      12346       ipsec  7           1000           0:03:14:44      1             
</span></span><span style="display:flex;"><span>1.1.200.1        200         up          biz-internet     biz-internet     31.21.0.2                                       31.201.0.2                                      12346       ipsec  7           1000           6:04:48:46      0             
</span></span><span style="display:flex;"><span>1.1.200.2        200         up          biz-internet     biz-internet     31.21.0.2                                       31.202.0.2                                      12426       ipsec  7           1000           0:00:51:19      0             
</span></span></code></pre></div><p>Ahora hay t√∫neles entre diferentes colores, pero respetando el Tunnel Group ID.</p>
<p>En resumen, si la opci√≥n restrict est√° configurada junto con Tunnel Groups, los t√∫neles se formar√°n si:</p>
<ul>
<li>El color del TLOC coincide.</li>
<li>Los Tunnel Group IDs coinciden o uno de los extremos no tiene Tunnel Group configurado (Group 0).</li>
</ul>
<h2 id="casos-de-uso">Casos de Uso<a hidden class="anchor" aria-hidden="true" href="#casos-de-uso">#</a></h2>
<p>Veamos algunos casos reales para esta funcionalidad.</p>
<h3 id="agrupar-colores-privados-y-p√∫blicos">Agrupar colores privados y p√∫blicos<a hidden class="anchor" aria-hidden="true" href="#agrupar-colores-privados-y-p√∫blicos">#</a></h3>
<p>Existen m√∫ltiples etiquetas para colores privados y p√∫blicos. Dependiendo del dise√±o de red, podr√≠as terminar con diferentes nombres de colores por regi√≥n. Ejemplo:</p>
<table>
  <thead>
      <tr>
          <th>Continente</th>
          <th>Colores P√∫blicos</th>
          <th>Colores Privados</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Europa</td>
          <td>biz-internet</td>
          <td>mpls</td>
      </tr>
      <tr>
          <td>Am√©rica</td>
          <td>gold</td>
          <td>metro-ethernet</td>
      </tr>
  </tbody>
</table>
<p>Usando Tunnel Groups, podemos separar f√°cilmente los t√∫neles entre colores privados y p√∫blicos:</p>
<figure class="custom-figure">
  <img src="/wp-content/uploads/2025/07/tg4.png" alt="">
  
  
  
    <figcaption>
      <strong>Figura 4</strong>
       ‚Äì 
      Agrupaci√≥n de Colores basada en Tunnel Group ID
    </figcaption>
  
</figure>

<p>Asignando Tunnel Group 10 a los colores privados, nos aseguramos que solo se establezcan t√∫neles entre mpls y metro-ethernet. De igual forma, el Tunnel Group 20 permitir√° t√∫neles entre colores p√∫blicos, gold y biz-internet.</p>
<h3 id="escalamiento-horizontal">Escalamiento Horizontal<a hidden class="anchor" aria-hidden="true" href="#escalamiento-horizontal">#</a></h3>
<p>Cuando los routers del data center deben construir t√∫neles con muchas sucursales remotas, cada una usando m√∫ltiples transportes, pueden alcanzar el l√≠mite de escala de t√∫neles de la plataforma. Tunnel Groups ayudan a distribuir la creaci√≥n de t√∫neles entre diferentes routers y sucursales, haciendo el dise√±o m√°s escalable.</p>
<figure class="custom-figure">
  <img src="/wp-content/uploads/2025/07/tg5.png" alt="">
  
  
  
    <figcaption>
      <strong>Figura 5</strong>
       ‚Äì 
      Estrategia de Escalamiento Horizontal con Tunnel Groups
    </figcaption>
  
</figure>

<p>As√≠, cada sucursal estar√° conectada a ambos data centers, pero manteniendo bajo control la cantidad de sesiones en los routers del data center.</p>
<h3 id="crear-mesh-parcial">Crear Mesh Parcial<a hidden class="anchor" aria-hidden="true" href="#crear-mesh-parcial">#</a></h3>
<p>Si necesitas crear una malla parcial, los Tunnel Groups pueden ser de gran ayuda.</p>
<figure class="custom-figure">
  <img src="/wp-content/uploads/2025/07/tg6.png" alt="">
  
  
  
    <figcaption>
      <strong>Figura 5</strong>
       ‚Äì 
      Topolog√≠a de Mesh Parcial
    </figcaption>
  
</figure>

<p>En este caso, los dispositivos con Tunnel Group 10 y sin Tunnel Group (0) establecer√°n t√∫neles entre ellos. De igual forma, los dispositivos con Tunnel Group 20 y sin Tunnel Group (0) formar√°n t√∫neles.</p>
<h2 id="conclusi√≥n">Conclusi√≥n<a hidden class="anchor" aria-hidden="true" href="#conclusi√≥n">#</a></h2>
<p>Los Tunnel Groups en Cisco SD-WAN ofrecen una forma escalable de controlar el establecimiento de t√∫neles en despliegues peque√±os o grandes. Al etiquetar TLOCs con IDs de grupo num√©ricos, puedes:</p>
<ul>
<li>Crear grupos l√≥gicos de t√∫neles sin depender √∫nicamente del color.</li>
<li>Reducir la complejidad de las pol√≠ticas de control centralizadas.</li>
<li>Dise√±ar topolog√≠as m√°s predecibles y escalables como malla parcial, hub-and-spoke o escalamiento horizontal.</li>
</ul>
<p>Ya sea para lidiar con nombres de colores inconsistentes entre regiones, escalar routers del data center o simplemente tener una forma m√°s limpia de gestionar t√∫neles, los Tunnel Groups ofrecen una herramienta potente para simplificar el dise√±o.</p>
<p>Cuando se combinan con la opci√≥n restrict, los Tunnel Groups te dan control granular sobre qu√© t√∫neles se permiten,por color, por grupo o ambos. Con la estrategia adecuada, puedes reducir significativamente la cantidad de t√∫neles innecesarios, manteniendo alta disponibilidad y buen rendimiento.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="aruiz-p/netwithalex"
        issue-term="title"
        label="comments"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/es/">NetWithAlex</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copiar';

        function copyingDone() {
            copybutton.innerHTML = '¬°copiado!';
            setTimeout(() => {
                copybutton.innerHTML = 'copiar';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
