<!DOCTYPE html>
<html lang="es" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Primeros pasos con la automatizaci√≥n en SD-WAN | NetWithAlex</title>
<meta name="keywords" content="">
<meta name="description" content="Aprende los fundamentos de la automatizaci√≥n en SD-WAN y c√≥mo comenzar a usar scripts y APIs para optimizar tus operaciones de red.">
<meta name="author" content="Alex">
<link rel="canonical" href="https://netwithalex.blog/automation-intro-es/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://netwithalex.blog/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://netwithalex.blog/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://netwithalex.blog/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://netwithalex.blog/apple-touch-icon.png">
<link rel="mask-icon" href="https://netwithalex.blog/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://netwithalex.blog/automation-intro-en/">
<link rel="alternate" hreflang="es" href="https://netwithalex.blog/automation-intro-es/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>















    
        <link rel="preconnect" href="https://plausible.io">
    
        
            
            <script defer  data-domain="netwithalex.blog" src="https://plausible.io/js/script.js" ></script>

<!-- If you are using Content-Security-Policy, do not forget to add this code to your CSP : 
  script-src 'unsafe-inline' https://plausible.io
  connect-src 'unsafe-inline' https://plausible.io
  or just add the partial 'plausible_csp.html' to those 2 csp directives in your 'index.headers' file
-->



    
    <script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script>
    <script>
         
         
         
    </script>

    
<meta property="og:url" content="https://netwithalex.blog/automation-intro-es/">
  <meta property="og:site_name" content="NetWithAlex">
  <meta property="og:title" content="Primeros pasos con la automatizaci√≥n en SD-WAN">
  <meta property="og:description" content="Aprende los fundamentos de la automatizaci√≥n en SD-WAN y c√≥mo comenzar a usar scripts y APIs para optimizar tus operaciones de red.">
  <meta property="og:locale" content="es">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-06-16T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-06-16T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Primeros pasos con la automatizaci√≥n en SD-WAN">
<meta name="twitter:description" content="Aprende los fundamentos de la automatizaci√≥n en SD-WAN y c√≥mo comenzar a usar scripts y APIs para optimizar tus operaciones de red.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://netwithalex.blog/es/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Primeros pasos con la automatizaci√≥n en SD-WAN",
      "item": "https://netwithalex.blog/automation-intro-es/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Primeros pasos con la automatizaci√≥n en SD-WAN",
  "name": "Primeros pasos con la automatizaci√≥n en SD-WAN",
  "description": "Aprende los fundamentos de la automatizaci√≥n en SD-WAN y c√≥mo comenzar a usar scripts y APIs para optimizar tus operaciones de red.",
  "keywords": [
    
  ],
  "articleBody": "Introducci√≥n En esta publicaci√≥n, exploraremos c√≥mo dar los primeros pasos con la automatizaci√≥n en SD-WAN. Ya sea que est√©s comenzando con los scripts o apenas empieces a descubrir lo que es posible hacer con la API de SD-WAN, esta gu√≠a te ayudar√° a empezar. Cubriremos conceptos clave, ejemplos pr√°cticos y las herramientas que necesitas para automatizar tareas y simplificar tus operaciones de red.\n¬øPor qu√© deber√≠as automatizar? Hay muchos casos donde la automatizaci√≥n puede aportar beneficios significativos. Ya sea para aplicar cambios m√°s r√°pido, minimizar riesgos, ahorrar tiempo, construir herramientas personalizadas o integrar con sistemas de terceros ‚Äî la automatizaci√≥n abre la puerta a una gesti√≥n de red m√°s simple y eficiente.\nAqu√≠ algunos casos de uso comunes:\nDespliegue de dispositivos ‚Äì Automatiza el proceso de despliegue de VMs y su configuraci√≥n inicial usando plantillas predefinidas. Gesti√≥n de configuraciones ‚Äì Aplica configuraciones mediante la API en segundos, en lugar de iniciar sesi√≥n manualmente en cada dispositivo. Monitoreo y alertas ‚Äì Recibe alertas cuando ocurran eventos espec√≠ficos en la red y crea scripts para monitorear exactamente lo que necesitas. Integraci√≥n con otros sistemas ‚Äì Enriquece plataformas de Cisco o externas con informaci√≥n compartida directamente desde el SD-WAN Manager. Verificaciones de salud ‚Äì Verifica de forma continua que tu red est√© funcionando correctamente y bajo el estado deseado. Ampliaci√≥n de capacidades ‚Äì Experimenta con nuevas tecnolog√≠as y explora c√≥mo integrarlas a tus tareas diarias. APIs REST de SD-WAN Manager En el centro de la automatizaci√≥n est√°n las APIs REST (Interfaz de Programaci√≥n de Aplicaciones basada en Transferencia de Estado Representacional), que permiten que los sistemas se comuniquen entre s√≠ a trav√©s de HTTP ‚Äî el mismo protocolo que usa tu navegador para cargar p√°ginas web.\nLa API REST del SD-WAN Manager te permite interactuar program√°ticamente con tu controlador SD-WAN. En lugar de hacer clic en la interfaz gr√°fica, puedes enviar solicitudes HTTP para:\nGET obtener informaci√≥n (por ejemplo, listar dispositivos, obtener estad√≠sticas de salud) POST crear nuevas configuraciones PUT actualizar objetos existentes DELETE eliminar configuraciones que ya no necesitas Cada solicitud se dirige a una URL espec√≠fica e incluye encabezados, autenticaci√≥n y datos.\nPuedes encontrar la documentaci√≥n de los endpoints de Cisco aqu√≠.\nTambi√©n puedes acceder a la documentaci√≥n de la API dentro del producto en:\nhttps://vmanage-ip:port/apidocs\nC√≥digos de estado HTTP Los c√≥digos de estado HTTP te indican el resultado de tu solicitud a la API. Aqu√≠ est√°n los m√°s comunes:\n200 OK ‚Äì La solicitud fue exitosa. 301 Moved Permanently ‚Äì El recurso tiene una nueva URL. 400 Bad Request ‚Äì La solicitud est√° mal formada. 401 Unauthorized ‚Äì Necesitas iniciar sesi√≥n. 403 Forbidden ‚Äì No tienes permiso para acceder a este recurso. 404 Not Found ‚Äì El recurso solicitado no existe. 500 Internal Server Error ‚Äì Algo fall√≥ en el servidor. 503 Service Unavailable ‚Äì El servidor est√° sobrecargado o fuera de servicio temporalmente. Esperamos recibir un 200 OK al realizar llamadas a la API.\nAutenticaci√≥n Generar una ID de sesi√≥n (cookie) Antes de interactuar con la API del SD-WAN Manager, necesitas autenticarte ‚Äî tal como lo har√≠as al iniciar sesi√≥n en la interfaz gr√°fica. Para ello, se debe usar el siguiente endpoint:\nPOST https://{vmanage-ip-address}/j_security_check Content-Type: application/x-www-form-urlencoded HTTP Body: \"j_username={admin}\u0026j_password={credential}\" Se trata de una operaci√≥n POST, que requiere el encabezado Content-Type: application/x-www-form-urlencoded y espera un cuerpo con el siguiente formato:\nj_username={admin}\u0026j_password={credential}.\nVamos a probarlo con curl. Ten en cuenta que cuando usamos la opci√≥n ‚Äìdata, curl entiende que debe usar el m√©todo POST.\nalex ~ % curl -v -k --location 'https://10.1.1.1:443/j_security_check' \\ --header 'Content-Type: application/x-www-form-urlencoded' \\ --data-urlencode 'j_username=netwithalex' \\ --data-urlencode 'j_password=netwithalex' * Trying 10.1.1.1:443... * Connected to 10.1.1.1 (10.1.1.1) port 443 ... * using HTTP/1.x \u003e POST /j_security_check HTTP/1.1 \u003e Host: 10.1.1.1 \u003e User-Agent: curl/8.7.1 \u003e Accept: */* \u003e Content-Type: application/x-www-form-urlencoded ... * upload completely sent off: 45 bytes \u003c HTTP/1.1 200 OK \u003c set-cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da; path=/; secure; HttpOnly ... \u003c * Connection #0 to host 10.1.1.1 left intact Debemos guardar el valor de set-cookie\nJSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH\ny utilizarlo a continuaci√≥n para generar un token.\nObtener un token Un token XSRF (tambi√©n llamado CSRF o Cross-Site Request Forgery token) es una medida de seguridad que ayuda a proteger una aplicaci√≥n web contra acciones no autorizadas realizadas por atacantes.\nSe utiliza el siguiente endpoint para obtener un token:\nGET https://{vmanage-ip-address}/dataservice/client/token Content-Type: application/json HTTP Header: \"Cookie: JESSIONID={session hash id}\" Este token es requerido principalmente para operaciones POST, si est√°s realizando operaciones GET probablemente no lo necesitar√°s. Ten esto en cuenta al construir scripts que requieran acciones POST.\nalex ~ % curl -v -k --location 'https://10.1.1.1:443/dataservice/client/token' \\ --header 'Content-Type: application/json' \\ --header 'Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da' * Trying 10.1.1.1:443... * Connected to 10.1.1.1 (10.1.1.1) port 443 ... * using HTTP/1.x \u003e GET /dataservice/client/token HTTP/1.1 \u003e Host: 10.1.1.1 \u003e Accept: */* \u003e Content-Type: application/json \u003e Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da \u003c HTTP/1.1 200 OK ... \u003c vary: Accept-Encoding \u003c content-type: application/json; charset=UTF-8 \u003e * Connection #0 to host 10.1.1.1 left intact F1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA% El token se muestra al final:\nF1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA\nCon esto, est√°s listo para interactuar con el SD-WAN Manager\nEjemplos GET - Obtener la configuraci√≥n de un dispositivo Vamos a obtener la configuraci√≥n de un dispositivo con la siguiente llamada\nGET https://{{vmanage-ip}}:{{port}}/dataservice/template/config/running/{deviceId} Content-Type: application/json En este caso,e el deviceId es el chassis number, se puede encontrar en la UI:\nalex ~ % curl -k -v --location 'https://10.1.1.1:8443/dataservice/template/config/running/C8K-C0302D69-35A9-4E85-8909-2031A2165FE8' \\ --header 'Content-Type: application/json' \\ --header 'Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da' * Trying 10.1.1.1:8443... * Connected to 10.1.1.1 (10.1.1.1) port 8443 ... * using HTTP/1.x \u003e GET /dataservice/template/config/running/C8K-C0302D69-35A9-4E85-8909-2031A2165FE8 HTTP/1.1 \u003e Host: 10.1.1.1:8443 \u003e User-Agent: curl/8.7.1 \u003e Accept: */* \u003e Content-Type: application/json \u003e Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da \u003e ... \u003c vary: Accept-Encoding \u003c content-type: application/json; charset=UTF-8 \u003c server: svcproxy \u003c transfer-encoding: chunked \u003c {\"config\":\" system\\n system-ip 1.1.200.1\\n overlay-id 1\\n site-id 200\\n no transport-gateway enable\\n port-offset 0\\n control-session-pps 300\\n admin-tech-on-failure\\n sp-organization-name MYSDWAN-LAB123\\n organization-name MYSDWAN-LAB123\\n port-hop\\n track-transport\\n track-default-gateway\\n upgrade-confirm...} La configuraci√≥n se regresa dentro de las {}\nPOST - Crear un nuevo usuario Vamos a hacer una operaci√≥n POST sencilla para ver c√≥mo debemos pasar el token.\nUsaremos el siguiente endpoint\nPOST https://{{vmanage-ip}}:{{port}}/dataservice/admin/user Headers: \"Content-Type: application/json\", \"accept: */*\" Payload = { \"group\":[ \"operator\" ], \"description\":\"Demo User\", \"userName\":\"apiUser\", \"password\":\"apiuser\", } Necesitamos especificar el grupo, la descripci√≥n, el nombre de usuario y la contrase√±a.\nHag√°moslo con curl\nalex ~ % curl -v -k --location 'https://10.1.1.1:8443/dataservice/admin/user' \\ --header 'Content-Type: application/json' \\ --header 'X-XSRF-TOKEN: F1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA' \\ --header 'Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da' \\ --data '{ \"group\":[ \"operator\" ], \"description\":\"API User\", \"userName\":\"apiuser\", \"password\":\"apiuser\" }' * Trying 10.1.1.1:8443... * Connected to 10.1.1.1 (10.1.1.1) port 8443 ... \u003e POST /dataservice/admin/user HTTP/1.1 \u003e Host: 10.1.1.1:8443 \u003e User-Agent: curl/8.7.1 \u003e Accept: */* \u003e Content-Type: application/json \u003e X-XSRF-TOKEN: F1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA \u003e Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da \u003e Content-Length: 117 \u003e ... * upload completely sent off: 117 bytes \u003c HTTP/1.1 200 OK ... \u003c vary: Accept-Encoding \u003c vmanagerequestid: 45dc1c76-8a00-48e4-80f0-fe9b2f2a894b \u003c x-content-type-options: nosniff \u003c strict-transport-security: max-age=31536000; includeSubDomains \u003c permissions-policy: geolocation=(self), microphone=(), camera=(), fullscreen=(self) \u003c content-type: application/octet-stream; charset=UTF-8 \u003c server: svcproxy \u003c transfer-encoding: chunked \u003c * Connection #0 to host 10.1.1.1 left intact {}% Recibimos un HTTP 200 y una respuesta vac√≠a {}, lo que indica que el usuario fue creado correctamente. Vamos a verificar en la interfaz gr√°fica (UI).\nEl usuario apiuser se cre√≥ correctamente!\nConclusi√≥n En este post, cubrimos los conceptos b√°sicos que necesitas para comenzar a trabajar con las REST APIs del SD-WAN Manager ‚Äî desde entender los c√≥digos de estado HTTP hasta recuperar configuraciones y crear usuarios. Los ejemplos usaron curl intencionalmente para que puedas ver la estructura de las solicitudes, entender los encabezados y aprender c√≥mo trabajar con cookies y el token XSRF.\nEn la siguiente parte, traduciremos estos conceptos a Python y comenzaremos a automatizar tareas del mundo real paso a paso.\n",
  "wordCount" : "1258",
  "inLanguage": "es",
  "datePublished": "2025-06-16T00:00:00Z",
  "dateModified": "2025-06-16T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Alex"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://netwithalex.blog/automation-intro-es/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "NetWithAlex",
    "logo": {
      "@type": "ImageObject",
      "url": "https://netwithalex.blog/assets/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://netwithalex.blog/es/" accesskey="h" title="NetWithAlex (Alt + H)">NetWithAlex</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://netwithalex.blog/" title="English"
                            aria-label="English">En</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://netwithalex.blog/es/" title="Inicio">
                    <span>Inicio</span>
                </a>
            </li>
            <li>
                <a href="https://netwithalex.blog/es/archives/" title="Archivo">
                    <span>Archivo</span>
                </a>
            </li>
            <li>
                <a href="https://netwithalex.blog/es/category/" title="Categor√≠as">
                    <span>Categor√≠as</span>
                </a>
            </li>
            <li>
                <a href="https://netwithalex.blog/es/sobre-mi/" title="Sobre m√≠">
                    <span>Sobre m√≠</span>
                </a>
            </li>
            <li>
                <a href="https://netwithalex.blog/es/search/" title="üîç">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://netwithalex.blog/es/">Inicio</a>&nbsp;¬ª&nbsp;<a href="https://netwithalex.blog/es/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Primeros pasos con la automatizaci√≥n en SD-WAN
    </h1>
    <div class="post-description">
      Aprende los fundamentos de la automatizaci√≥n en SD-WAN y c√≥mo comenzar a usar scripts y APIs para optimizar tus operaciones de red.
    </div>
    <div class="post-meta"><span title='2025-06-16 00:00:00 +0000 +0000'>junio 16, 2025</span>&nbsp;¬∑&nbsp;6 min&nbsp;¬∑&nbsp;Alex&nbsp;|&nbsp;Traducciones:
<ul class="i18n_list">
    <li>
        <a href="https://netwithalex.blog/automation-intro-en/">En</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Tabla de Contenidos</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introducci%c3%b3n" aria-label="Introducci√≥n">Introducci√≥n</a></li>
                <li>
                    <a href="#por-qu%c3%a9-deber%c3%adas-automatizar" aria-label="¬øPor qu√© deber√≠as automatizar?">¬øPor qu√© deber√≠as automatizar?</a></li>
                <li>
                    <a href="#apis-rest-de-sd-wan-manager" aria-label="APIs REST de SD-WAN Manager">APIs REST de SD-WAN Manager</a></li>
                <li>
                    <a href="#c%c3%b3digos-de-estado-http" aria-label="C√≥digos de estado HTTP">C√≥digos de estado HTTP</a></li>
                <li>
                    <a href="#autenticaci%c3%b3n" aria-label="Autenticaci√≥n">Autenticaci√≥n</a><ul>
                        
                <li>
                    <a href="#generar-una-id-de-sesi%c3%b3n-cookie" aria-label="Generar una ID de sesi√≥n (cookie)">Generar una ID de sesi√≥n (cookie)</a></li>
                <li>
                    <a href="#obtener-un-token" aria-label="Obtener un token">Obtener un token</a></li></ul>
                </li>
                <li>
                    <a href="#ejemplos" aria-label="Ejemplos">Ejemplos</a><ul>
                        
                <li>
                    <a href="#get---obtener-la-configuraci%c3%b3n-de-un-dispositivo" aria-label="GET - Obtener la configuraci√≥n de un dispositivo">GET - Obtener la configuraci√≥n de un dispositivo</a></li>
                <li>
                    <a href="#post---crear-un-nuevo-usuario" aria-label="POST - Crear un nuevo usuario">POST - Crear un nuevo usuario</a></li></ul>
                </li>
                <li>
                    <a href="#conclusi%c3%b3n" aria-label="Conclusi√≥n">Conclusi√≥n</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introducci√≥n">Introducci√≥n<a hidden class="anchor" aria-hidden="true" href="#introducci√≥n">#</a></h2>
<p>En esta publicaci√≥n, exploraremos c√≥mo dar los primeros pasos con la automatizaci√≥n en SD-WAN. Ya sea que est√©s comenzando con los scripts o apenas empieces a descubrir lo que es posible hacer con la API de SD-WAN, esta gu√≠a te ayudar√° a empezar. Cubriremos conceptos clave, ejemplos pr√°cticos y las herramientas que necesitas para automatizar tareas y simplificar tus operaciones de red.</p>
<h2 id="por-qu√©-deber√≠as-automatizar">¬øPor qu√© deber√≠as automatizar?<a hidden class="anchor" aria-hidden="true" href="#por-qu√©-deber√≠as-automatizar">#</a></h2>
<p>Hay muchos casos donde la automatizaci√≥n puede aportar beneficios significativos. Ya sea para aplicar cambios m√°s r√°pido, minimizar riesgos, ahorrar tiempo, construir herramientas personalizadas o integrar con sistemas de terceros ‚Äî la automatizaci√≥n abre la puerta a una gesti√≥n de red m√°s simple y eficiente.</p>
<p>Aqu√≠ algunos casos de uso comunes:</p>
<ul>
<li><strong>Despliegue de dispositivos</strong> ‚Äì Automatiza el proceso de despliegue de VMs y su configuraci√≥n inicial usando plantillas predefinidas.</li>
<li><strong>Gesti√≥n de configuraciones</strong> ‚Äì Aplica configuraciones mediante la API en segundos, en lugar de iniciar sesi√≥n manualmente en cada dispositivo.</li>
<li><strong>Monitoreo y alertas</strong> ‚Äì Recibe alertas cuando ocurran eventos espec√≠ficos en la red y crea scripts para monitorear exactamente lo que necesitas.</li>
<li><strong>Integraci√≥n con otros sistemas</strong> ‚Äì Enriquece plataformas de Cisco o externas con informaci√≥n compartida directamente desde el SD-WAN Manager.</li>
<li><strong>Verificaciones de salud</strong> ‚Äì Verifica de forma continua que tu red est√© funcionando correctamente y bajo el estado deseado.</li>
<li><strong>Ampliaci√≥n de capacidades</strong> ‚Äì Experimenta con nuevas tecnolog√≠as y explora c√≥mo integrarlas a tus tareas diarias.</li>
</ul>
<h2 id="apis-rest-de-sd-wan-manager">APIs REST de SD-WAN Manager<a hidden class="anchor" aria-hidden="true" href="#apis-rest-de-sd-wan-manager">#</a></h2>
<p>En el centro de la automatizaci√≥n est√°n las APIs REST (Interfaz de Programaci√≥n de Aplicaciones basada en Transferencia de Estado Representacional), que permiten que los sistemas se comuniquen entre s√≠ a trav√©s de HTTP ‚Äî el mismo protocolo que usa tu navegador para cargar p√°ginas web.</p>
<p>La API REST del SD-WAN Manager te permite interactuar program√°ticamente con tu controlador SD-WAN. En lugar de hacer clic en la interfaz gr√°fica, puedes enviar solicitudes HTTP para:</p>
<ul>
<li><strong>GET</strong> obtener informaci√≥n (por ejemplo, listar dispositivos, obtener estad√≠sticas de salud)</li>
<li><strong>POST</strong> crear nuevas configuraciones</li>
<li><strong>PUT</strong> actualizar objetos existentes</li>
<li><strong>DELETE</strong> eliminar configuraciones que ya no necesitas</li>
</ul>
<p>Cada solicitud se dirige a una URL espec√≠fica e incluye encabezados, autenticaci√≥n y datos.</p>
<p>Puedes encontrar la documentaci√≥n de los endpoints de Cisco <a href="https://developer.cisco.com/docs/search/?products=Catalyst%20SD-WAN" target="_blank" rel="nofollow noopener noreferrer">aqu√≠</a>.</p>
<p>Tambi√©n puedes acceder a la <strong>documentaci√≥n de la API dentro del producto</strong> en:</p>
<blockquote>
<p><em>https://vmanage-ip:port/apidocs</em></p>
</blockquote>
<p><img loading="lazy" src="/wp-content/uploads/2025/06/api1.png"></p>
<h2 id="c√≥digos-de-estado-http">C√≥digos de estado HTTP<a hidden class="anchor" aria-hidden="true" href="#c√≥digos-de-estado-http">#</a></h2>
<p>Los c√≥digos de estado HTTP te indican el resultado de tu solicitud a la API. Aqu√≠ est√°n los m√°s comunes:</p>
<ul>
<li><strong>200 OK</strong> ‚Äì La solicitud fue exitosa.</li>
<li><strong>301 Moved Permanently</strong> ‚Äì El recurso tiene una nueva URL.</li>
<li><strong>400 Bad Request</strong> ‚Äì La solicitud est√° mal formada.</li>
<li><strong>401 Unauthorized</strong> ‚Äì Necesitas iniciar sesi√≥n.</li>
<li><strong>403 Forbidden</strong> ‚Äì No tienes permiso para acceder a este recurso.</li>
<li><strong>404 Not Found</strong> ‚Äì El recurso solicitado no existe.</li>
<li><strong>500 Internal Server Error</strong> ‚Äì Algo fall√≥ en el servidor.</li>
<li><strong>503 Service Unavailable</strong> ‚Äì El servidor est√° sobrecargado o fuera de servicio temporalmente.</li>
</ul>
<p>Esperamos recibir un <strong>200 OK</strong> al realizar llamadas a la API.</p>
<h2 id="autenticaci√≥n">Autenticaci√≥n<a hidden class="anchor" aria-hidden="true" href="#autenticaci√≥n">#</a></h2>
<h3 id="generar-una-id-de-sesi√≥n-cookie">Generar una ID de sesi√≥n (cookie)<a hidden class="anchor" aria-hidden="true" href="#generar-una-id-de-sesi√≥n-cookie">#</a></h3>
<p>Antes de interactuar con la API del SD-WAN Manager, necesitas autenticarte ‚Äî tal como lo har√≠as al iniciar sesi√≥n en la interfaz gr√°fica. Para ello, se debe usar el siguiente endpoint:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>POST https://{vmanage-ip-address}/j_security_check
</span></span><span style="display:flex;"><span>Content-Type: application/x-www-form-urlencoded
</span></span><span style="display:flex;"><span>HTTP Body: &#34;j_username={admin}&amp;j_password={credential}&#34;
</span></span></code></pre></div><p>Se trata de una operaci√≥n <strong>POST</strong>, que requiere el encabezado <em>Content-Type: application/x-www-form-urlencoded</em> y espera un cuerpo con el siguiente formato:</p>
<p><em>j_username=<strong>{admin}</strong>&amp;j_password=<strong>{credential}</strong></em>.</p>
<p>Vamos a probarlo con <a href="https://curl.se/" target="_blank" rel="nofollow noopener noreferrer">curl</a>. Ten en cuenta que cuando usamos la opci√≥n <em><strong>&ndash;data</strong></em>, curl entiende que debe usar el m√©todo POST.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>alex <span style="color:#f92672">~</span> <span style="color:#f92672">%</span> curl <span style="color:#f92672">-</span>v <span style="color:#f92672">-</span>k <span style="color:#f92672">--</span>location <span style="color:#e6db74">&#39;https://10.1.1.1:443/j_security_check&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;Content-Type: application/x-www-form-urlencoded&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>data<span style="color:#f92672">-</span>urlencode <span style="color:#e6db74">&#39;j_username=netwithalex&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>data<span style="color:#f92672">-</span>urlencode <span style="color:#e6db74">&#39;j_password=netwithalex&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span>   Trying <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>:<span style="color:#ae81ff">443.</span><span style="color:#f92672">..</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> Connected to <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span> (<span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>) port <span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> using HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.</span>x
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> POST <span style="color:#f92672">/</span>j_security_check HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Host: <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> User<span style="color:#f92672">-</span>Agent: curl<span style="color:#f92672">/</span><span style="color:#ae81ff">8.7</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Accept: <span style="color:#f92672">*/*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Content<span style="color:#f92672">-</span>Type: application<span style="color:#f92672">/</span>x<span style="color:#f92672">-</span>www<span style="color:#f92672">-</span>form<span style="color:#f92672">-</span>urlencoded
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> upload completely sent off: <span style="color:#ae81ff">45</span> bytes
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span> <span style="color:#ae81ff">200</span> OK
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> set<span style="color:#f92672">-</span>cookie: JSESSIONID<span style="color:#f92672">=</span>dEzBwsDlx<span style="color:#f92672">-</span>eMKye1xbXBgT7NZVfXRe1tJQZvkMLH<span style="color:#f92672">.</span>b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da; path<span style="color:#f92672">=/</span>; secure; HttpOnly
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> Connection <span style="color:#75715e">#0 to host 10.1.1.1 left intact</span>
</span></span></code></pre></div><p>Debemos guardar el valor de <em>set-cookie</em></p>
<blockquote>
<p>JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH</p>
</blockquote>
<p>y utilizarlo a continuaci√≥n para generar un <strong>token</strong>.</p>
<h3 id="obtener-un-token">Obtener un token<a hidden class="anchor" aria-hidden="true" href="#obtener-un-token">#</a></h3>
<p>Un token XSRF (tambi√©n llamado CSRF o Cross-Site Request Forgery token) es una medida de seguridad que ayuda a proteger una aplicaci√≥n web contra acciones no autorizadas realizadas por atacantes.</p>
<p>Se utiliza el siguiente endpoint para obtener un token:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>GET https://{vmanage-ip-address}/dataservice/client/token
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>HTTP Header: &#34;Cookie: JESSIONID={session hash id}&#34;
</span></span></code></pre></div><p>Este <strong>token es requerido principalmente para operaciones POST</strong>, si est√°s realizando operaciones GET probablemente no lo necesitar√°s. Ten esto en cuenta al construir scripts que requieran acciones POST.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>alex <span style="color:#f92672">~</span> <span style="color:#f92672">%</span> curl <span style="color:#f92672">-</span>v <span style="color:#f92672">-</span>k <span style="color:#f92672">--</span>location <span style="color:#e6db74">&#39;https://10.1.1.1:443/dataservice/client/token&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span>   Trying <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>:<span style="color:#ae81ff">443.</span><span style="color:#f92672">..</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> Connected to <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span> (<span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>) port <span style="color:#ae81ff">443</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> using HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.</span>x
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> GET <span style="color:#f92672">/</span>dataservice<span style="color:#f92672">/</span>client<span style="color:#f92672">/</span>token HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Host: <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Accept: <span style="color:#f92672">*/*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Content<span style="color:#f92672">-</span>Type: application<span style="color:#f92672">/</span>json
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Cookie: JSESSIONID<span style="color:#f92672">=</span>dEzBwsDlx<span style="color:#f92672">-</span>eMKye1xbXBgT7NZVfXRe1tJQZvkMLH<span style="color:#f92672">.</span>b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span> <span style="color:#ae81ff">200</span> OK
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> vary: Accept<span style="color:#f92672">-</span>Encoding
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> content<span style="color:#f92672">-</span>type: application<span style="color:#f92672">/</span>json; charset<span style="color:#f92672">=</span>UTF<span style="color:#f92672">-</span><span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> Connection <span style="color:#75715e">#0 to host 10.1.1.1 left intact</span>
</span></span><span style="display:flex;"><span>F1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA<span style="color:#f92672">%</span> 
</span></span></code></pre></div><p>El token se muestra al final:</p>
<blockquote>
<p>F1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA</p>
</blockquote>
<p>Con esto, est√°s listo para interactuar con el SD-WAN Manager</p>
<h2 id="ejemplos">Ejemplos<a hidden class="anchor" aria-hidden="true" href="#ejemplos">#</a></h2>
<h3 id="get---obtener-la-configuraci√≥n-de-un-dispositivo">GET - Obtener la configuraci√≥n de un dispositivo<a hidden class="anchor" aria-hidden="true" href="#get---obtener-la-configuraci√≥n-de-un-dispositivo">#</a></h3>
<p>Vamos a obtener la configuraci√≥n de un dispositivo con la siguiente llamada</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>GET https://{{vmanage-ip}}:{{port}}/dataservice/template/config/running/{deviceId}
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span></code></pre></div><p>En este caso,e el <em>deviceId</em> es el chassis number, se puede encontrar en la UI:</p>
<p><img loading="lazy" src="/wp-content/uploads/2025/06/api2.png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>alex <span style="color:#f92672">~</span> <span style="color:#f92672">%</span> curl <span style="color:#f92672">-</span>k <span style="color:#f92672">-</span>v <span style="color:#f92672">--</span>location <span style="color:#e6db74">&#39;https://10.1.1.1:8443/dataservice/template/config/running/C8K-C0302D69-35A9-4E85-8909-2031A2165FE8&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span> \                 
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span>   Trying <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>:<span style="color:#ae81ff">8443.</span><span style="color:#f92672">..</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> Connected to <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span> (<span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>) port <span style="color:#ae81ff">8443</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> using HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.</span>x
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> GET <span style="color:#f92672">/</span>dataservice<span style="color:#f92672">/</span>template<span style="color:#f92672">/</span>config<span style="color:#f92672">/</span>running<span style="color:#f92672">/</span>C8K<span style="color:#f92672">-</span>C0302D69<span style="color:#f92672">-</span><span style="color:#ae81ff">35</span>A9<span style="color:#f92672">-</span><span style="color:#ae81ff">4E85</span><span style="color:#f92672">-</span><span style="color:#ae81ff">8909</span><span style="color:#f92672">-</span><span style="color:#ae81ff">2031</span>A2165FE8 HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Host: <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>:<span style="color:#ae81ff">8443</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> User<span style="color:#f92672">-</span>Agent: curl<span style="color:#f92672">/</span><span style="color:#ae81ff">8.7</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Accept: <span style="color:#f92672">*/*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Content<span style="color:#f92672">-</span>Type: application<span style="color:#f92672">/</span>json
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Cookie: JSESSIONID<span style="color:#f92672">=</span>dEzBwsDlx<span style="color:#f92672">-</span>eMKye1xbXBgT7NZVfXRe1tJQZvkMLH<span style="color:#f92672">.</span>b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> vary: Accept<span style="color:#f92672">-</span>Encoding
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> content<span style="color:#f92672">-</span>type: application<span style="color:#f92672">/</span>json; charset<span style="color:#f92672">=</span>UTF<span style="color:#f92672">-</span><span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> server: svcproxy
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> transfer<span style="color:#f92672">-</span>encoding: chunked
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> 
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#34;config&#34;</span>:<span style="color:#e6db74">&#34; system</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> system-ip             1.1.200.1</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> overlay-id            1</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> site-id               200</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> no transport-gateway enable</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> port-offset           0</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> control-session-pps   300</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> admin-tech-on-failure</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> sp-organization-name  MYSDWAN-LAB123</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> organization-name     MYSDWAN-LAB123</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> port-hop</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> track-transport</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> track-default-gateway</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> upgrade-confirm...}</span>
</span></span></code></pre></div><p>La configuraci√≥n se regresa dentro de las {}</p>
<h3 id="post---crear-un-nuevo-usuario">POST - Crear un nuevo usuario<a hidden class="anchor" aria-hidden="true" href="#post---crear-un-nuevo-usuario">#</a></h3>
<p>Vamos a hacer una operaci√≥n POST sencilla para ver c√≥mo debemos pasar el token.</p>
<p>Usaremos el siguiente endpoint</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>POST https:<span style="color:#f92672">//</span>{{vmanage<span style="color:#f92672">-</span>ip}}:{{port}}<span style="color:#f92672">/</span>dataservice<span style="color:#f92672">/</span>admin<span style="color:#f92672">/</span>user
</span></span><span style="display:flex;"><span>Headers: <span style="color:#e6db74">&#34;Content-Type: application/json&#34;</span>, <span style="color:#e6db74">&#34;accept: */*&#34;</span>
</span></span><span style="display:flex;"><span>Payload <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;group&#34;</span>:[
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;operator&#34;</span>
</span></span><span style="display:flex;"><span>   ],
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;description&#34;</span>:<span style="color:#e6db74">&#34;Demo User&#34;</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;userName&#34;</span>:<span style="color:#e6db74">&#34;apiUser&#34;</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;password&#34;</span>:<span style="color:#e6db74">&#34;apiuser&#34;</span>,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Necesitamos especificar el grupo, la descripci√≥n, el nombre de usuario y la contrase√±a.</p>
<p>Hag√°moslo con curl</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>alex <span style="color:#f92672">~</span> <span style="color:#f92672">%</span> curl <span style="color:#f92672">-</span>v <span style="color:#f92672">-</span>k <span style="color:#f92672">--</span>location <span style="color:#e6db74">&#39;https://10.1.1.1:8443/dataservice/admin/user&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;Content-Type: application/json&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;X-XSRF-TOKEN: F1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>header <span style="color:#e6db74">&#39;Cookie: JSESSIONID=dEzBwsDlx-eMKye1xbXBgT7NZVfXRe1tJQZvkMLH.b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da&#39;</span> \
</span></span><span style="display:flex;"><span><span style="color:#f92672">--</span>data <span style="color:#e6db74">&#39;{</span>
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;group&#34;</span>:[
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;operator&#34;</span>
</span></span><span style="display:flex;"><span>   ],
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;description&#34;</span>:<span style="color:#e6db74">&#34;API User&#34;</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;userName&#34;</span>:<span style="color:#e6db74">&#34;apiuser&#34;</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;password&#34;</span>:<span style="color:#e6db74">&#34;apiuser&#34;</span>
</span></span><span style="display:flex;"><span>}<span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span>   Trying <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>:<span style="color:#ae81ff">8443.</span><span style="color:#f92672">..</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> Connected to <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span> (<span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>) port <span style="color:#ae81ff">8443</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> POST <span style="color:#f92672">/</span>dataservice<span style="color:#f92672">/</span>admin<span style="color:#f92672">/</span>user HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Host: <span style="color:#ae81ff">10.1</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1.1</span>:<span style="color:#ae81ff">8443</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> User<span style="color:#f92672">-</span>Agent: curl<span style="color:#f92672">/</span><span style="color:#ae81ff">8.7</span><span style="color:#f92672">.</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Accept: <span style="color:#f92672">*/*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Content<span style="color:#f92672">-</span>Type: application<span style="color:#f92672">/</span>json
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> X<span style="color:#f92672">-</span>XSRF<span style="color:#f92672">-</span>TOKEN: F1FE79CE079240E12A393B73F0EB5445F31BC456322F634EDEF8A9A7D5856A6FC7763D2C80D2253118917910502F20A9A1CA
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Cookie: JSESSIONID<span style="color:#f92672">=</span>dEzBwsDlx<span style="color:#f92672">-</span>eMKye1xbXBgT7NZVfXRe1tJQZvkMLH<span style="color:#f92672">.</span>b387d75e92857dc1e41025f809f43b054a0d0aa8ebf50be8d2fc1aa2f87c90da
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> Content<span style="color:#f92672">-</span>Length: <span style="color:#ae81ff">117</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> upload completely sent off: <span style="color:#ae81ff">117</span> bytes
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> HTTP<span style="color:#f92672">/</span><span style="color:#ae81ff">1.1</span> <span style="color:#ae81ff">200</span> OK
</span></span><span style="display:flex;"><span><span style="color:#f92672">...</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> vary: Accept<span style="color:#f92672">-</span>Encoding
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> vmanagerequestid: <span style="color:#ae81ff">45</span>dc1c76<span style="color:#f92672">-</span><span style="color:#ae81ff">8</span>a00<span style="color:#f92672">-</span><span style="color:#ae81ff">48e4</span><span style="color:#f92672">-</span><span style="color:#ae81ff">80</span>f0<span style="color:#f92672">-</span>fe9b2f2a894b
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> x<span style="color:#f92672">-</span>content<span style="color:#f92672">-</span>type<span style="color:#f92672">-</span>options: nosniff
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> strict<span style="color:#f92672">-</span>transport<span style="color:#f92672">-</span>security: max<span style="color:#f92672">-</span>age<span style="color:#f92672">=</span><span style="color:#ae81ff">31536000</span>; includeSubDomains
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> permissions<span style="color:#f92672">-</span>policy: geolocation<span style="color:#f92672">=</span>(self), microphone<span style="color:#f92672">=</span>(), camera<span style="color:#f92672">=</span>(), fullscreen<span style="color:#f92672">=</span>(self)
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> content<span style="color:#f92672">-</span>type: application<span style="color:#f92672">/</span>octet<span style="color:#f92672">-</span>stream; charset<span style="color:#f92672">=</span>UTF<span style="color:#f92672">-</span><span style="color:#ae81ff">8</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> server: svcproxy
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> transfer<span style="color:#f92672">-</span>encoding: chunked
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">*</span> Connection <span style="color:#75715e">#0 to host 10.1.1.1 left intact</span>
</span></span><span style="display:flex;"><span>{}<span style="color:#f92672">%</span>
</span></span></code></pre></div><p>Recibimos un <strong>HTTP 200</strong> y una respuesta vac√≠a <code>{}</code>, lo que indica que el usuario fue creado correctamente. Vamos a verificar en la interfaz gr√°fica (UI).</p>
<p><img loading="lazy" src="/wp-content/uploads/2025/06/api3.png"></p>
<p>El usuario <em>apiuser</em> se cre√≥ correctamente!</p>
<h2 id="conclusi√≥n">Conclusi√≥n<a hidden class="anchor" aria-hidden="true" href="#conclusi√≥n">#</a></h2>
<p>En este post, cubrimos los conceptos b√°sicos que necesitas para comenzar a trabajar con las REST APIs del SD-WAN Manager ‚Äî desde entender los c√≥digos de estado HTTP hasta recuperar configuraciones y crear usuarios. Los ejemplos usaron <em>curl</em> intencionalmente para que puedas ver la estructura de las solicitudes, entender los encabezados y aprender c√≥mo trabajar con cookies y el token XSRF.</p>
<p>En la siguiente parte, traduciremos estos conceptos a Python y comenzaremos a automatizar tareas del mundo real paso a paso.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="aruiz-p/netwithalex"
        issue-term="title"
        label="comments"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://netwithalex.blog/es/">NetWithAlex</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copiar';

        function copyingDone() {
            copybutton.innerHTML = '¬°copiado!';
            setTimeout(() => {
                copybutton.innerHTML = 'copiar';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
